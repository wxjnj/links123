!function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}(),$(document).on("click",'[href="#"],.disabled',function(a){a.preventDefault()}),$(function(){User.Init(),THL.Init(),Theme.Init()}),$(document).on("mousemove",".ui-widget-overlay",function(a){a.stopPropagation()});var User={Init:function(){var a=this;$(".uc-menu .nm").on("mouseenter",function(){clearTimeout(a.menuTimer),a.menuTimer=null,$(this).find("ul, .ang").show()}).on("mouseleave",function(){var b=$(this);a.menuTimer=setTimeout(function(){b.find("ul, .ang").hide()},500)}),$(".J_SignUp").on("click",function(){return a.Reg(),!1}),$(".J_SignIn").on("click",function(){return a.Login(),!1}),$(document).on("click",".J_VerifyImg",function(){$(this).attr("src",APP+"Verify?"+ +new Date)})},CheckLogin:function(){var a=this;return $CONFIG.IsLogin?(a.Login("请先登录"),!1):!0},Reg:function(){var a=this;if($("#J_Reg").size()){var b=$("#J_Reg");b.find('input[name="user"]').val(""),b.find('input[name="password"]').val(""),b.find('input[name="email"]').val(""),b.find('input[name="vcode"]').val(""),b.find(".msg").html(""),b.dialog("open")}else{var c="";c+='<div class="lk-dialog lk-dialog-reg" id="J_Reg">',c+='	<div class="lkd-hd">',c+="		<em>快速注册</em>",c+='		<span class="msg"></span>',c+='		<a class="close" href="javascript:;">X</a>',c+="	</div>",c+='	<div class="lkd-bd">',c+="		<ul>",c+='			<li><input class="ipt" type="text" name="user" placeholder="昵称" /></li>',c+='			<li><input class="ipt" type="text" name="email" placeholder="邮箱" /></li>',c+='			<li><input class="ipt" type="password" name="password" placeholder="密码" /></li>',c+='			<li class="vcode">',c+='				<input class="ipt" type="text" name="vcode" placeholder="验证码" value="" /><img src="/Verify" alt="验证码" class="J_VerifyImg" title="点击刷新" />',c+="			</li>",c+="		</ul>",c+="	</div>",c+='	<div class="lkd-ft">',c+='		<a class="lkd-reg" href="javascript:;">注&nbsp;册</a>',c+='		<a class="lkd-login" href="javascript:;">已有帐号！登录！</a>',c+="	</div>",c+="</div>",$("body").append(c);var b=$("#J_Reg");b.find("input").placeholder(),b.dialog({autoOpen:!0,width:384,modal:!0,resizable:!1,open:function(){setTimeout(function(){b.find('input[name="user"]').select()},20)}}),b.find(".lkd-login").on("click",function(){b.dialog("close"),a.Login()}),b.find(".close").on("click",function(){return b.dialog("close"),!1}),b.find('input[name="vcode"]').on("keydown",function(a){return 13==a.keyCode?(b.find(".lkd-reg").trigger("click"),!1):void 0}),b.find('input[type="text"], input[type="password"]').on("focus",function(){$(this).css("background","#fff")}).on("blur",function(){$(this).css("background","#eeefef")}),$(document).on("mouseenter",'#J_Reg input[name="user"], #J_Reg input[name="password"], #J_Reg input[name="email"], #J_Reg input[name="vcode"]',function(){$(this).select()}).on("mousemove",'#J_Reg input[name="user"], #J_Reg input[name="password"], #J_Reg input[name="email"], #J_Reg input[name="vcode"]',function(){return e.stopPropagation(),!1});var d=!1;b.find(".lkd-reg").on("click",function(){if(d)return!1;var a=b.find('input[name="user"]'),c=b.find('input[name="password"]'),e=b.find('input[name="email"]'),f=b.find('input[name="vcode"]'),g=b.find(".msg"),h=a.val(),i=c.val(),j=e.val(),k=f.val();if(!h||"昵称"==h)return g.html("昵称不能为空"),a[0].focus(),!1;if(!/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*$/.test(j))return g.html("email格式不正确"),e[0].focus(),!1;if(!i)return g.html("密码不能为空"),c[0].focus(),!1;if(!k)return g.html("验证码不能为空"),f[0].focus(),!1;g.html(""),d=!0;var l={nickname:h,email:j,password:i,verify:k};return $.post(APP+"Members/Register/saveReg",l,function(a){a.indexOf("regOK")>=0?window.location.href=APP+"Members/Index/":g.html(a),d=!1}),!1})}},Login:function(msg){var self=this;if($("#J_Login").size()){var obj=$("#J_Login");obj.find('input[name="user"]').val(""),obj.find('input[name="password"]').val(""),obj.find(".msg").html(""),obj.find('input[name="autologin"]').attr("checked",!0),msg?obj.find(".msg").html(msg):obj.find(".msg").html(""),$("#J_Login").dialog("open")}else{var hl="";hl+='<div class="lk-dialog lk-dialog-login" id="J_Login">',hl+='	<div class="lkd-hd">',hl+="		<em>登录</em>",hl+='		<span class="msg"></span>',hl+='		<a class="close" href="javascript:;">X</a>',hl+="	</div>",hl+='	<div class="lkd-bd">',hl+='		<form action="">',hl+="			<ul>",hl+='				<li><input class="ipt" type="text" name="user" placeholder="邮箱/账户/手机号" /></li>',hl+='				<li><input class="ipt" type="password" name="password" placeholder="密码" /></li>',hl+='				<li class="rpass">',hl+='					<span>还不是会员？<a class="reg" href="javascript:;">注册</a></span>',hl+='					<label for=""><input type="checkbox" name="autologin" checked="checked" id=""> 记住密码</label> <a class="fgpass" href="javascript:;">忘记密码？</a>',hl+="				</li>",hl+="			</ul>",hl+="		</form>",hl+="	</div>",hl+='	<div class="lkd-ft">',hl+='		<a class="lkd-reg" href="javascript:;">登&nbsp;录</a>',hl+="	</div>",hl+="</div>",$("body").append(hl);var obj=$("#J_Login"),objmsg=obj.find(".msg");msg&&objmsg.html(msg),obj.dialog({autoOpen:!0,width:384,modal:!0,resizable:!1,open:function(){setTimeout(function(){obj.find('input[name="user"]').select()},20)}}),obj.find(".close").on("click",function(){return obj.dialog("close"),!1}),obj.find(".fgpass").on("click",function(){obj.dialog("close"),self.FindPass()}),obj.find(".reg").on("click",function(){obj.dialog("close"),self.Reg()}),obj.find('input[name="password"]').on("keydown",function(a){return 13==a.keyCode?(obj.find(".lkd-reg").trigger("click"),!1):void 0}),obj.find('input[type="text"], input[type="password"]').on("focus",function(){$(this).css("background","#fff")}).on("blur",function(){$(this).css("background","#eeefef")}),$(document).on("mouseenter",'#J_Login input[name="user"], #J_Login input[name="password"]',function(){$(this).select()}).on("mousemove",'#J_Login input[name="user"], #J_Login input[name="password"]',function(a){return a.stopPropagation(),!1}),obj.find(".lkd-reg").on("click",function(){var objusername=obj.find('input[name="user"]'),objpassword=obj.find('input[name="password"]'),username=objusername.val(),password=objpassword.val(),verify="",auto_login=obj.find('input[name="autologin"]').attr("checked");if(!username||"帐号"==username)return objmsg.html("帐号不能为空"),objusername[0].focus(),!1;if(!password)return objmsg.html("密码不能为空"),objpassword[0].focus(),!1;var data={username:username,password:password,auto_login:"checked"==auto_login?1:0};if(0!==$("#J_Login").find("li.vcode").length){var objverify=obj.find('input[name="vcode"]');if(verify=objverify.val(),!verify)return objmsg.html("验证码不能为空"),objverify.focus(),!1;data.verify=verify}return $.post(APP+"Members/Login/checkLogin",data,function(data){var resp=eval("("+data+")"),showmsg=function(a,b){$(a).val(""),$(a).attr("placeholder",b),$(a).focus()};switch(resp.code){case 200:window.opener&&document.referrer&&(window.opener.location.href=document.referrer),window.location.href=APP+"Index";break;case 403:$(objusername[0]).val(""),$(objpassword[0]).val(""),objmsg.html(resp.content);break;case 501:showmsg(objusername[0],resp.content);break;case 502:showmsg(objusername[0],resp.content);break;case 503:showmsg(objpassword[0],resp.content);break;case 504:showmsg(objpassword[0],resp.content);break;case 505:var vcode=$("#J_Login").find("li.vcode");0===vcode.length?$('<li class="vcode">\n<input class="ipt" type="text" name="vcode" placeholder="验证码" value="" /><img src="/Verify" alt="验证码" class="J_VerifyImg" title="点击刷新" />\n</li>').insertAfter($('#J_Login input[name="password"]').parent("li")):$("#J_Login").find("li.vcode img").click();break;case 506:objmsg.html(resp.content),obj.find('input[name="vcode"]').focus(),$("#J_Login").find("li.vcode img").click()}}),!1})}},FindPass:function(){if($("#J_FindPass").size()){var a=$("#J_FindPass");a.find('input[name="email"]').val(""),a.find('input[name="vcode"]').val(""),$("#J_FindPass").dialog("open")}else{var b="";b+='<div class="lk-dialog lk-dialog-fpass" id="J_FindPass">',b+='	<div class="lkd-hd">',b+='		<a class="close" href="javascript:;">X</a>',b+="	</div>",b+='	<div class="lkd-bd">',b+='		<div class="tabs">',b+='			<a class="on" href="javascript:;">通过电子邮件</a><a style="display:none;" href="javascript:;">通过其他方式</a>',b+="		</div>",b+='		<div class="ct">',b+='			<form action="">',b+="			<ul>",b+='				<li><input class="ipt" type="text" name="email" placeholder="请输入登录邮箱" /></li>',b+='				<li class="vcode">',b+='					<input class="ipt" type="text" name="vcode" id="" placeholder="验证码" /><img src="/Verify" alt="验证码" class="J_VerifyImg" title="点击刷新" />',b+="				</li>",b+="			</ul>",b+="			</form>",b+="		</div>",b+="	</div>",b+='	<div class="lkd-ft">',b+='		<a class="lkd-btn" href="javascript:;">发送验证邮件</a>',b+="	</div>",b+="</div>",$("body").append(b);var a=$("#J_FindPass");a.dialog({autoOpen:!0,width:390,modal:!0,resizable:!1,open:function(){setTimeout(function(){a.find('input[name="email"]').select()},20)}}),a.find(".close").on("click",function(){return $("#J_FindPass").dialog("close"),!1}),a.find('input[name="vcode"]').on("keydown",function(b){return 13==b.keyCode?(a.find(".lkd-btn").trigger("click"),!1):void 0}),a.find('input[type="text"], input[type="password"]').on("focus",function(){$(this).css("background","#fff")}).on("blur",function(){$(this).css("background","#eeefef")}),$(document).on("mouseenter",'#J_FindPass input[name="email"], #J_FindPass input[name="vcode"]',function(){$(this).select()}),a.find(".lkd-btn").on("click",function(){var b=a.find('input[name="email"]'),c=a.find('input[name="vcode"]'),d=b.val(),e=c.val();if(!d)return alert("请输入邮箱"),b[0].focus(),!1;var f=d.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/);return null==f?(alert("请正确输入邮箱"),b[0].focus(),!1):e?($.post(APP+"Members/Login/missPwd",{email:d,verify:e},function(a){if(a.indexOf("sendOK")>=0){var b=a.split("|");alert("请进入您的账户邮箱获取新密码"),window.open("http://"+b[1])}else alert(a)}),void 0):(alert("验证码不能为空"),c[0].focus(),!1)})}}},THL={conf:{topnm:32,topex:64},Init:function(){var a=this;$.cookies.set("keyword",""),$("#search_text").val("").select(),$(".thl").mouseover(function(){$("#J_thl_div").show(),$("#search_text").select()}),$(".J_thl_area").mouseleave(function(){$("#J_thl_div").hide()}),$(".J_thlz a").click(function(){return $(this).addClass("on").siblings("a").removeClass("on"),$("#btn_search").trigger("click"),!1}),$("#J_thl_div a").click(function(){$(this).addClass("on").siblings("a").removeClass("on");var a=$(this).index();return $(".J_thlz:eq("+a+")").show().siblings(".J_thlz").hide(),$(".J_thlz a").removeClass("on"),$(".J_thlz:eq("+a+")").find("a:first").addClass("on"),!1}),$("#search_text").blur(function(){""==$(this).val()&&$.cookies.set("keyword","")}),$("#search_text").keyup(function(){$("#J_thl_div").show(),a.setpos()}),$("#search_text").on("click",function(){if($.cookies.get("keyword"))$(this).data("key","");else{var a=$.trim($("#search_text").val());""!=a&&($(this).data("key",a),$(this).val(a))}}),$("#search_text").on("webkitspeechchange",function(){var b=$(this).data("key");if(b&&""!=b){var c=$(this).val();0==c.indexOf(b)&&($(this).val(c.replace(b,b+" ")),$(this).data("key",""))}a.setpos()}),$(document).mouseup(function(){if("INPUT"!=document.activeElement.tagName&&"TEXTAREA"!=document.activeElement.tagName&&"IFRAME"!=document.activeElement.tagName&&"direct_text"!=document.activeElement.id&&"search_text"!=document.activeElement.id&&"search_text"!=document.activeElement.id){var a="";window.getSelection?a=window.getSelection():document.getSelection?a=document.getSelection():document.selection&&(a=document.selection.createRange().text),""==a&&$("#search_text").select(),$.cookies.get("keyword")&&$("#search_text").select()}}),$("#btn_search").click(function(){$("#search_text").select();var b=$.trim($("#search_text").val());$.cookies.set("keyword",b),b=b.replace("http://",""),b=encodeURIComponent(b);var c=$(".J_thlz a.on").attr("url").replace("keyword",b),d=$(".J_thlz a.on").attr("tid");return a.go(c,d,b),!1})},go:function(a,b,c){if("4"==b||"26"==b||"40"==b||"58"==b||"110"==b||"117"==b)$.post(URL+"/thl_count",{tid:b},function(){}),window.open("http://"+a);else if("10"==b||"20"==b)window.open(a);else{a=APP+"Thl/index";var d=$("#searchForm");$("#J_thl").val($("#J_thl_div a.on").text()),$("#J_tid").val(b),$("#J_q").val(c),d.attr("action",a),d.attr("target","_blank"),d.submit(),d.attr("action",""),d.attr("target",""),$("#search_text").select()}},setpos:function(){var a,b=this;""!=$("#search_text").val()?(a=b.conf.topex,$("#J_thl_div").css("top",a).removeClass("cate-in")):(a=b.conf.topnm,$("#J_thl_div").hide(),$("#J_thl_div").css("top",a).addClass("cate-in"))}},Theme={Init:function(){var a=this;$("#K_change_skin_btn").on("mouseenter",function(){$(".skin-list").fadeIn(150)}).on("mouseleave",".skin-list",function(){clearTimeout(a.timer),a.timer=null,a.timer=setTimeout(function(){$(".skin-list").hide()},500)}).on("mouseover",".skin-list",function(){$(this).is(":hidden")||(clearTimeout(a.timer),a.timer=null)}),$("#J_skin_pics").find(".item:eq(3)").css("text-align","center").end().find(".item:gt(3)").css("text-align","right"),$("#J_Styles>ul>li:not(.skin_selection_li)").on("click",function(){var b=$(this).closest("li");if(!b.is(".on")){b.addClass("on").siblings().removeClass("on");var c=b.data("bg"),d=b.data("theme"),e=b.data("id");a.SetTheme(e,d,c)}return!1})},SetTheme:function(a,b,c){var d=$CONFIG.PUBLIC+"/IndexV3/skins/{0}/style.css";return $("#J_Skins").attr("href",d.replace("{0}",b)),$("#container").css("background-image","url("+c+")"),console.log(a),$.post(URL+"/updateSkinTheme",{themeId:a}),!1},SetGlobal:function(){var a=this;if(!$("#J_StyleGlobal").size()){var b="";b+='<div class="lk-dialog lk-dialog-settings" id="J_StyleGlobal">',b+='	<div class="lkd-hd">',b+='		<a class="close" href="#">X</a>',b+="	</div>",b+='	<div class="lkd-bd">',b+='		<div class="settings">',b+='			<div class="settings-tabs">',b+='				<a class="on" href="javascript:;">全局设置</a> <a class="J_SetBackGround" href="javascript:;">背景设置</a>',b+="			</div>",b+='			<div class="settings-content">',b+='				<div class="ttl">全局风格设置</div>',b+='				<ul class="ct">',b=b+'					<li class="on"><img src="'+PUBLIC+'/indexv3/skins/styleshot01.jpg" alt="" /></li>',b+="				</ul>",b+='				<div class="ft">',b+="					<em>板块不透明度调节</em>",b+="					<span>0%</span>",b+='					<div class="process"></div>',b+="					<span>100%</span>",b+="				</div>",b+="			</div>",b+="		</div>",b+="	</div>",b+='	<div class="lkd-ft">',b+='		<label for=""><input type="checkbox" name="" id="" /> 发条另客告诉大家</label>',b+='		<a class="lkd-add" href="javascript:;"><em>确&nbsp;认</em></a>',b+="	</div>",b+="</div>",$("body").append(b);var c=$("#J_StyleGlobal");c.find(".close").on("click",function(){return c.dialog("close"),!1}),c.find(".lkd-add").on("click",function(){return!1}),c.find(".J_SetBackGround").on("click",function(){return c.dialog("close"),a.SetCustom(),!1});var d=c.find(".process");return d.slider({range:"min",value:0,min:0,max:100,slide:function(a,b){$(d).next().html(b.value+"%")}}),c.dialog({autoOpen:!0,width:502,modal:!0,resizable:!1}),!1}var c=$("#J_StyleGlobal");c.find('input[type="checkbox"]').attr("checked",!1),c.dialog("open")},SetCustom:function(){var a=this;if(!$("#J_StyleCustom").size()){var b="";b+='<div class="lk-dialog lk-dialog-settings" id="J_StyleCustom">',b+='	<div class="lkd-hd">',b+='		<a class="close" href="#">X</a>',b+="	</div>",b+='	<div class="lkd-bd">',b+='		<div class="settings">',b+='			<div class="settings-tabs">',b+='				<a class="J_SetGlobal" href="javascript:;">全局设置</a> <a class="on" href="javascript:;">背景设置</a>',b+="			</div>",b+='			<div class="settings-content">',b+='				<div class="bg-ttl">',b+='					<div class="pg">',b+="						<ul>",b+='							<li class="prev"><a href="#">上一页</a></li>',b+='							<li class="next"><a href="#">下一页</a></li>',b+="						</ul>",b+="					</div>",b+='					<div class="bg-cate bg-style bg-on">',b+="						炫彩光晕",b+='						<ul class="dropdown bg-cate-dropdown">',b+='							<li><a href="#">测试效果</a></li>',b+='							<li><a href="#">效果测试</a></li>',b+="						</ul>",b+='					</div><a class="bg-custom" href="javascript:;">自定义</a>',b+="				</div>",b+='				<div class="bg-list">',b+='					<ul class="imglist">',b+='						<li class="on"><img src="skins/dark/screenshot.jpg" alt="" /></li>',b+='						<li><img src="skins/dark/screenshot.jpg" alt="" /></li>',b+='						<li><img src="skins/dark/screenshot.jpg" alt="" /></li>',b+='						<li><img src="skins/dark/screenshot.jpg" alt="" /></li>',b+='						<li><img src="skins/dark/screenshot.jpg" alt="" /></li>',b+='						<li><img src="skins/dark/screenshot.jpg" alt="" /></li>',b+='						<li><img src="skins/dark/screenshot.jpg" alt="" /></li>',b+='						<li><img src="skins/dark/screenshot.jpg" alt="" /></li>',b+="					</ul>",b+='					<div class="upload-panel">',b+='						<div class="upload-demo">',b+='							<div class="upload-demo-box">',b+='								<img src="imgs/imgdemo.jpg" alt="" style="width:190px;" />',b+="							</div>",b+="						</div>",b+='						<div class="upload-ct">',b+='							<div class="row1">',b+='								<input class="txtimg" readonly="readonly" type="text" name="" id="upfile" /><a onclick="path.click();return false;" class="btnimg" href="#">选择图片</a>',b+='								<input type="file" id="path" style="display:none" onchange="upfile.value=this.value" />',b+="							</div>",b+='							<div class="row2">',b+='								<div class="bg-align bg-style">',b+="									<em>居中对齐</em>",b+='									<ul class="dropdown bg-align-dropdown">',b+='										<li><a href="#">居中对齐</a></li>',b+="									</ul>",b+="								</div>",b+='								<label for=""><input type="checkbox" name="" id=""> 平铺</label>',b+='								<label for=""><input type="checkbox" name="" id=""> 锁定</label>',b+='								背景配色 <a href="javascript:;" class="color"></a>',b+="							</div>",b+="						</div>",b+='						<div class="upload-ctls"><a href="#">点击上传</a></div>',b+="					</div>",b+="				</div>",b+="			</div>",b+="		</div>",b+="	</div>",b+='	<div class="lkd-ft">',b+='		<label for=""><input type="checkbox" name="" id="" /> 发条另客告诉大家</label>',b+='		<a class="lkd-add" href="#"><em>确认</em></a>',b+="	</div>",b+="</div>",$("body").append(b);var c=$("#J_StyleCustom");return c.find(".bg-cate").dropdown({classNm:".bg-cate-dropdown"}),c.find(".bg-cate").on("mouseenter",function(){$(this).removeClass("bg-on")}).on("mouseleave",function(){$(this).addClass("bg-on")}),c.find(".bg-align").dropdown({classNm:".bg-align-dropdown"}),c.find(".bg-align").on("mouseenter",function(){$(this).removeClass("bg-on")}).on("mouseleave",function(){$(this).addClass("bg-on")}),c.find(".close").on("click",function(){return c.dialog("close"),!1}),c.find(".bg-custom").on("click",function(){c.find(".upload-panel").show().siblings().hide(),$(this).addClass("bg-custom-on"),c.find(".pg").hide()}),c.find(".lkd-add").on("click",function(){return!1}),c.find(".J_SetGlobal").on("click",function(){return c.dialog("close"),a.SetGlobal(),!1}),c.dialog({autoOpen:!0,width:502,modal:!0,resizable:!1}),!1}var c=$("#J_StyleCustom");c.find('input[type="checkbox"]').attr("checked",!1),c.dialog("open")}};Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}},Date.getMonthNumberFromName=function(a){for(var b=Date.CultureInfo.monthNames,c=Date.CultureInfo.abbreviatedMonthNames,d=a.toLowerCase(),e=0;e<b.length;e++)if(b[e].toLowerCase()==d||c[e].toLowerCase()==d)return e;return-1},Date.getDayNumberFromName=function(a){for(var b=Date.CultureInfo.dayNames,c=Date.CultureInfo.abbreviatedDayNames,d=(Date.CultureInfo.shortestDayNames,a.toLowerCase()),e=0;e<b.length;e++)if(b[e].toLowerCase()==d||c[e].toLowerCase()==d)return e;return-1},Date.isLeapYear=function(a){return 0===a%4&&0!==a%100||0===a%400},Date.getDaysInMonth=function(a,b){return[31,Date.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},Date.getTimezoneOffset=function(a,b){return b?Date.CultureInfo.abbreviatedTimeZoneDST[a.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[a.toUpperCase()]},Date.getTimezoneAbbreviation=function(a,b){var c,d=b?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard;for(c in d)if(d[c]===a)return c;return null},Date.prototype.clone=function(){return new Date(this.getTime())},Date.prototype.compareTo=function(a){if(isNaN(this))throw new Error(this);if(a instanceof Date&&!isNaN(a))return this>a?1:a>this?-1:0;throw new TypeError(a)},Date.prototype.equals=function(a){return 0===this.compareTo(a)},Date.prototype.between=function(a,b){var c=this.getTime();return c>=a.getTime()&&c<=b.getTime()},Date.prototype.addMilliseconds=function(a){return this.setMilliseconds(this.getMilliseconds()+a),this},Date.prototype.addSeconds=function(a){return this.addMilliseconds(1e3*a)},Date.prototype.addMinutes=function(a){return this.addMilliseconds(6e4*a)},Date.prototype.addHours=function(a){return this.addMilliseconds(36e5*a)},Date.prototype.addDays=function(a){return this.addMilliseconds(864e5*a)},Date.prototype.addWeeks=function(a){return this.addMilliseconds(6048e5*a)},Date.prototype.addMonths=function(a){var b=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+a),this.setDate(Math.min(b,this.getDaysInMonth())),this},Date.prototype.addYears=function(a){return this.addMonths(12*a)},Date.prototype.add=function(a){if("number"==typeof a)return this._orient=a,this;var b=a;return(b.millisecond||b.milliseconds)&&this.addMilliseconds(b.millisecond||b.milliseconds),(b.second||b.seconds)&&this.addSeconds(b.second||b.seconds),(b.minute||b.minutes)&&this.addMinutes(b.minute||b.minutes),(b.hour||b.hours)&&this.addHours(b.hour||b.hours),(b.month||b.months)&&this.addMonths(b.month||b.months),(b.year||b.years)&&this.addYears(b.year||b.years),(b.day||b.days)&&this.addDays(b.day||b.days),this},Date._validate=function(a,b,c,d){if("number"!=typeof a)throw new TypeError(a+" is not a Number.");if(b>a||a>c)throw new RangeError(a+" is not a valid value for "+d+".");return!0},Date.validateMillisecond=function(a){return Date._validate(a,0,999,"milliseconds")},Date.validateSecond=function(a){return Date._validate(a,0,59,"seconds")},Date.validateMinute=function(a){return Date._validate(a,0,59,"minutes")},Date.validateHour=function(a){return Date._validate(a,0,23,"hours")},Date.validateDay=function(a,b,c){return Date._validate(a,1,Date.getDaysInMonth(b,c),"days")},Date.validateMonth=function(a){return Date._validate(a,0,11,"months")},Date.validateYear=function(a){return Date._validate(a,1,9999,"seconds")},Date.prototype.set=function(a){var b=a;return b.millisecond||0===b.millisecond||(b.millisecond=-1),b.second||0===b.second||(b.second=-1),b.minute||0===b.minute||(b.minute=-1),b.hour||0===b.hour||(b.hour=-1),b.day||0===b.day||(b.day=-1),b.month||0===b.month||(b.month=-1),b.year||0===b.year||(b.year=-1),-1!=b.millisecond&&Date.validateMillisecond(b.millisecond)&&this.addMilliseconds(b.millisecond-this.getMilliseconds()),-1!=b.second&&Date.validateSecond(b.second)&&this.addSeconds(b.second-this.getSeconds()),-1!=b.minute&&Date.validateMinute(b.minute)&&this.addMinutes(b.minute-this.getMinutes()),-1!=b.hour&&Date.validateHour(b.hour)&&this.addHours(b.hour-this.getHours()),-1!==b.month&&Date.validateMonth(b.month)&&this.addMonths(b.month-this.getMonth()),-1!=b.year&&Date.validateYear(b.year)&&this.addYears(b.year-this.getFullYear()),-1!=b.day&&Date.validateDay(b.day,this.getFullYear(),this.getMonth())&&this.addDays(b.day-this.getDate()),b.timezone&&this.setTimezone(b.timezone),b.timezoneOffset&&this.setTimezoneOffset(b.timezoneOffset),this},Date.prototype.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},Date.prototype.isLeapYear=function(){var a=this.getFullYear();return 0===a%4&&0!==a%100||0===a%400},Date.prototype.isWeekday=function(){return!(this.is().sat()||this.is().sun())},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})},Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})},Date.prototype.moveToDayOfWeek=function(a,b){var c=(a-this.getDay()+7*(b||1))%7;return this.addDays(0===c?c+=7*(b||1):c)},Date.prototype.moveToMonth=function(a,b){var c=(a-this.getMonth()+12*(b||1))%12;return this.addMonths(0===c?c+=12*(b||1):c)},Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/864e5)},Date.prototype.getWeekOfYear=function(a){var b=this.getFullYear(),c=this.getMonth(),d=this.getDate(),e=a||Date.CultureInfo.firstDayOfWeek,f=8-new Date(b,0,1).getDay();8==f&&(f=1);var g=(Date.UTC(b,c,d,0,0,0)-Date.UTC(b,0,1,0,0,0))/864e5+1,h=Math.floor((g-f+7)/7);if(h===e){b--;var i=8-new Date(b,0,1).getDay();h=2==i||8==i?53:52}return h},Date.prototype.isDST=function(){return console.log("isDST"),"D"==this.toString().match(/(E|C|M|P)(S|D)T/)[2]},Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())},Date.prototype.setTimezoneOffset=function(a){var b=this.getTimezoneOffset(),c=-6*Number(a)/10;return this.addMinutes(c-b),this},Date.prototype.setTimezone=function(a){return this.setTimezoneOffset(Date.getTimezoneOffset(a))},Date.prototype.getUTCOffset=function(){var a,b=-10*this.getTimezoneOffset()/6;return 0>b?(a=(b-1e4).toString(),a[0]+a.substr(2)):(a=(b+1e4).toString(),"+"+a.substr(1))},Date.prototype.getDayName=function(a){return a?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]},Date.prototype.getMonthName=function(a){return a?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]},Date.prototype._toString=Date.prototype.toString,Date.prototype.toString=function(a){var b=this,c=function(a){return 1==a.toString().length?"0"+a:a};return a?a.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(a){switch(a){case"hh":return c(b.getHours()<13?b.getHours():b.getHours()-12);case"h":return b.getHours()<13?b.getHours():b.getHours()-12;case"HH":return c(b.getHours());case"H":return b.getHours();case"mm":return c(b.getMinutes());case"m":return b.getMinutes();case"ss":return c(b.getSeconds());case"s":return b.getSeconds();case"yyyy":return b.getFullYear();case"yy":return b.getFullYear().toString().substring(2,4);case"dddd":return b.getDayName();case"ddd":return b.getDayName(!0);case"dd":return c(b.getDate());case"d":return b.getDate().toString();case"MMMM":return b.getMonthName();case"MMM":return b.getMonthName(!0);case"MM":return c(b.getMonth()+1);case"M":return b.getMonth()+1;case"t":return b.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return b.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()},Date.now=function(){return new Date},Date.today=function(){return Date.now().clearTime()},Date.prototype._orient=1,Date.prototype.next=function(){return this._orient=1,this},Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){return this._orient=-1,this},Date.prototype._is=!1,Date.prototype.is=function(){return this._is=!0,this},Number.prototype._dateElement="day",Number.prototype.fromNow=function(){var a={};return a[this._dateElement]=this,Date.now().add(a)},Number.prototype.ago=function(){var a={};return a[this._dateElement]=-1*this,Date.now().add(a)},function(){for(var a,b=Date.prototype,c=Number.prototype,d="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),e="january february march april may june july august september october november december".split(/\s/),f="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),g=function(a){return function(){return this._is?(this._is=!1,this.getDay()==a):this.moveToDayOfWeek(a,this._orient)}},h=0;h<d.length;h++)b[d[h]]=b[d[h].substring(0,3)]=g(h);for(var i=function(a){return function(){return this._is?(this._is=!1,this.getMonth()===a):this.moveToMonth(a,this._orient)}},j=0;j<e.length;j++)b[e[j]]=b[e[j].substring(0,3)]=i(j);for(var k=function(a){return function(){return"s"!=a.substring(a.length-1)&&(a+="s"),this["add"+a](this._orient)}},l=function(a){return function(){return this._dateElement=a,this}},m=0;m<f.length;m++)a=f[m].toLowerCase(),b[a]=b[a+"s"]=k(f[m]),c[a]=c[a+"s"]=l(a)}(),Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")},Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)},Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)},Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)},Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)},Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},function(){Date.Parsing={Exception:function(a){this.message="Parse error at '"+a.substring(0,10)+" ...'"}};for(var a=Date.Parsing,b=a.Operators={rtoken:function(b){return function(c){var d=c.match(b);if(d)return[d[0],c.substring(d[0].length)];throw new a.Exception(c)}},token:function(){return function(a){return b.rtoken(new RegExp("^s*"+a+"s*"))(a)}},stoken:function(a){return b.rtoken(new RegExp("^"+a))},until:function(a){return function(b){for(var c=[],d=null;b.length;){try{d=a.call(this,b)}catch(e){c.push(d[0]),b=d[1];
continue}break}return[c,b]}},many:function(a){return function(b){for(var c=[],d=null;b.length;){try{d=a.call(this,b)}catch(e){return[c,b]}c.push(d[0]),b=d[1]}return[c,b]}},optional:function(a){return function(b){var c=null;try{c=a.call(this,b)}catch(d){return[null,b]}return[c[0],c[1]]}},not:function(b){return function(c){try{b.call(this,c)}catch(d){return[null,c]}throw new a.Exception(c)}},ignore:function(a){return a?function(b){var c=null;return c=a.call(this,b),[null,c[1]]}:null},product:function(){for(var a=arguments[0],c=Array.prototype.slice.call(arguments,1),d=[],e=0;e<a.length;e++)d.push(b.each(a[e],c));return d},cache:function(b){var c={},d=null;return function(e){try{d=c[e]=c[e]||b.call(this,e)}catch(f){d=c[e]=f}if(d instanceof a.Exception)throw d;return d}},any:function(){var b=arguments;return function(c){for(var d=null,e=0;e<b.length;e++)if(null!=b[e]){try{d=b[e].call(this,c)}catch(f){d=null}if(d)return d}throw new a.Exception(c)}},each:function(){var b=arguments;return function(c){for(var d=[],e=null,f=0;f<b.length;f++)if(null!=b[f]){try{e=b[f].call(this,c)}catch(g){throw new a.Exception(c)}d.push(e[0]),c=e[1]}return[d,c]}},all:function(){var a=arguments,b=b;return b.each(b.optional(a))},sequence:function(c,d,e){return d=d||b.rtoken(/^\s*/),e=e||null,1==c.length?c[0]:function(b){for(var f=null,g=null,h=[],i=0;i<c.length;i++){try{f=c[i].call(this,b)}catch(j){break}h.push(f[0]);try{g=d.call(this,f[1])}catch(k){g=null;break}b=g[1]}if(!f)throw new a.Exception(b);if(g)throw new a.Exception(g[1]);if(e)try{f=e.call(this,f[1])}catch(l){throw new a.Exception(f[1])}return[h,f?f[1]:b]}},between:function(a,c,d){d=d||a;var e=b.each(b.ignore(a),c,b.ignore(d));return function(a){var b=e.call(this,a);return[[b[0][0],r[0][2]],b[1]]}},list:function(a,c,d){return c=c||b.rtoken(/^\s*/),d=d||null,a instanceof Array?b.each(b.product(a.slice(0,-1),b.ignore(c)),a.slice(-1),b.ignore(d)):b.each(b.many(b.each(a,b.ignore(c))),px,b.ignore(d))},set:function(c,d,e){return d=d||b.rtoken(/^\s*/),e=e||null,function(f){for(var g=null,h=null,i=null,j=null,k=[[],f],l=!1,m=0;m<c.length;m++){i=null,h=null,g=null,l=1==c.length;try{g=c[m].call(this,f)}catch(n){continue}if(j=[[g[0]],g[1]],g[1].length>0&&!l)try{i=d.call(this,g[1])}catch(o){l=!0}else l=!0;if(l||0!==i[1].length||(l=!0),!l){for(var p=[],q=0;q<c.length;q++)m!=q&&p.push(c[q]);h=b.set(p,d).call(this,i[1]),h[0].length>0&&(j[0]=j[0].concat(h[0]),j[1]=h[1])}if(j[1].length<k[1].length&&(k=j),0===k[1].length)break}if(0===k[0].length)return k;if(e){try{i=e.call(this,k[1])}catch(r){throw new a.Exception(k[1])}k[1]=i[1]}return k}},forward:function(a,b){return function(c){return a[b].call(this,c)}},replace:function(a,b){return function(c){var d=a.call(this,c);return[b,d[1]]}},process:function(a,b){return function(c){var d=a.call(this,c);return[b.call(this,d[0]),d[1]]}},min:function(b,c){return function(d){var e=c.call(this,d);if(e[0].length<b)throw new a.Exception(d);return e}}},c=function(a){return function(){var b=null,c=[];if(arguments.length>1?b=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(b=arguments[0]),!b)return a.apply(null,arguments);for(var d=0,e=b.shift();d<e.length;d++)return b.unshift(e[d]),c.push(a.apply(null,b)),b.shift(),c}},d="optional not ignore cache".split(/\s/),e=0;e<d.length;e++)b[d[e]]=c(b[d[e]]);for(var f=function(a){return function(){return arguments[0]instanceof Array?a.apply(null,arguments[0]):a.apply(null,arguments)}},g="each any all".split(/\s/),h=0;h<g.length;h++)b[g[h]]=f(b[g[h]])}(),function(){var a=function(b){for(var c=[],d=0;d<b.length;d++)b[d]instanceof Array?c=c.concat(a(b[d])):b[d]&&c.push(b[d]);return c};Date.Grammar={},Date.Translator={hour:function(a){return function(){this.hour=Number(a)}},minute:function(a){return function(){this.minute=Number(a)}},second:function(a){return function(){this.second=Number(a)}},meridian:function(a){return function(){this.meridian=a.slice(0,1).toLowerCase()}},timezone:function(a){return function(){var b=a.replace(/[^\d\+\-]/g,"");b.length?this.timezoneOffset=Number(b):this.timezone=a.toLowerCase()}},day:function(a){var b=a[0];return function(){this.day=Number(b.match(/\d+/)[0])}},month:function(a){return function(){this.month=3==a.length?Date.getMonthNumberFromName(a):Number(a)-1}},year:function(a){return function(){var b=Number(a);this.year=a.length>2?b:b+(b+2e3<Date.CultureInfo.twoDigitYearMax?2e3:1900)}},rday:function(a){return function(){switch(a){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(a){a=a instanceof Array?a:[a];var b=new Date;this.year=b.getFullYear(),this.month=b.getMonth(),this.day=1,this.hour=0,this.minute=0,this.second=0;for(var c=0;c<a.length;c++)a[c]&&a[c].call(this);if(this.hour="p"==this.meridian&&this.hour<13?this.hour+12:this.hour,this.day>Date.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");var d=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);return this.timezone?d.set({timezone:this.timezone}):this.timezoneOffset&&d.set({timezoneOffset:this.timezoneOffset}),d},finish:function(b){if(b=b instanceof Array?a(b):[b],0===b.length)return null;for(var c=0;c<b.length;c++)"function"==typeof b[c]&&b[c].call(this);if(this.now)return new Date;var d=Date.today(),e=!(null==this.days&&!this.orient&&!this.operator);if(e){var f,g,h;return h="past"==this.orient||"subtract"==this.operator?-1:1,this.weekday&&(this.unit="day",f=Date.getDayNumberFromName(this.weekday)-d.getDay(),g=7,this.days=f?(f+h*g)%g:h*g),this.month&&(this.unit="month",f=this.month-d.getMonth(),g=12,this.months=f?(f+h*g)%g:h*g,this.month=null),this.unit||(this.unit="day"),(null==this[this.unit+"s"]||null!=this.operator)&&(this.value||(this.value=1),"week"==this.unit&&(this.unit="day",this.value=7*this.value),this[this.unit+"s"]=this.value*h),d.add(this)}return this.meridian&&this.hour&&(this.hour=this.hour<13&&"p"==this.meridian?this.hour+12:this.hour),this.weekday&&!this.day&&(this.day=d.addDays(Date.getDayNumberFromName(this.weekday)-d.getDay()).getDate()),this.month&&!this.day&&(this.day=1),d.set(this)}};var b,c=Date.Parsing.Operators,d=Date.Grammar,e=Date.Translator;d.datePartDelimiter=c.rtoken(/^([\s\-\.\,\/\x27]+)/),d.timePartDelimiter=c.stoken(":"),d.whiteSpace=c.rtoken(/^\s*/),d.generalDelimiter=c.rtoken(/^(([\s\,]|at|on)+)/);var f={};d.ctoken=function(a){var b=f[a];if(!b){for(var d=Date.CultureInfo.regexPatterns,e=a.split(/\s+/),g=[],h=0;h<e.length;h++)g.push(c.replace(c.rtoken(d[e[h]]),e[h]));b=f[a]=c.any.apply(null,g)}return b},d.ctoken2=function(a){return c.rtoken(Date.CultureInfo.regexPatterns[a])},d.h=c.cache(c.process(c.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),e.hour)),d.hh=c.cache(c.process(c.rtoken(/^(0[0-9]|1[0-2])/),e.hour)),d.H=c.cache(c.process(c.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),e.hour)),d.HH=c.cache(c.process(c.rtoken(/^([0-1][0-9]|2[0-3])/),e.hour)),d.m=c.cache(c.process(c.rtoken(/^([0-5][0-9]|[0-9])/),e.minute)),d.mm=c.cache(c.process(c.rtoken(/^[0-5][0-9]/),e.minute)),d.s=c.cache(c.process(c.rtoken(/^([0-5][0-9]|[0-9])/),e.second)),d.ss=c.cache(c.process(c.rtoken(/^[0-5][0-9]/),e.second)),d.hms=c.cache(c.sequence([d.H,d.mm,d.ss],d.timePartDelimiter)),d.t=c.cache(c.process(d.ctoken2("shortMeridian"),e.meridian)),d.tt=c.cache(c.process(d.ctoken2("longMeridian"),e.meridian)),d.z=c.cache(c.process(c.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),e.timezone)),d.zz=c.cache(c.process(c.rtoken(/^(\+|\-)\s*\d\d\d\d/),e.timezone)),d.zzz=c.cache(c.process(d.ctoken2("timezone"),e.timezone)),d.timeSuffix=c.each(c.ignore(d.whiteSpace),c.set([d.tt,d.zzz])),d.time=c.each(c.optional(c.ignore(c.stoken("T"))),d.hms,d.timeSuffix),d.d=c.cache(c.process(c.each(c.rtoken(/^([0-2]\d|3[0-1]|\d)/),c.optional(d.ctoken2("ordinalSuffix"))),e.day)),d.dd=c.cache(c.process(c.each(c.rtoken(/^([0-2]\d|3[0-1])/),c.optional(d.ctoken2("ordinalSuffix"))),e.day)),d.ddd=d.dddd=c.cache(c.process(d.ctoken("sun mon tue wed thu fri sat"),function(a){return function(){this.weekday=a}})),d.M=c.cache(c.process(c.rtoken(/^(1[0-2]|0\d|\d)/),e.month)),d.MM=c.cache(c.process(c.rtoken(/^(1[0-2]|0\d)/),e.month)),d.MMM=d.MMMM=c.cache(c.process(d.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),e.month)),d.y=c.cache(c.process(c.rtoken(/^(\d\d?)/),e.year)),d.yy=c.cache(c.process(c.rtoken(/^(\d\d)/),e.year)),d.yyy=c.cache(c.process(c.rtoken(/^(\d\d?\d?\d?)/),e.year)),d.yyyy=c.cache(c.process(c.rtoken(/^(\d\d\d\d)/),e.year)),b=function(){return c.each(c.any.apply(null,arguments),c.not(d.ctoken2("timeContext")))},d.day=b(d.d,d.dd),d.month=b(d.M,d.MMM),d.year=b(d.yyyy,d.yy),d.orientation=c.process(d.ctoken("past future"),function(a){return function(){this.orient=a}}),d.operator=c.process(d.ctoken("add subtract"),function(a){return function(){this.operator=a}}),d.rday=c.process(d.ctoken("yesterday tomorrow today now"),e.rday),d.unit=c.process(d.ctoken("minute hour day week month year"),function(a){return function(){this.unit=a}}),d.value=c.process(c.rtoken(/^\d\d?(st|nd|rd|th)?/),function(a){return function(){this.value=a.replace(/\D/g,"")}}),d.expression=c.set([d.rday,d.operator,d.value,d.unit,d.orientation,d.ddd,d.MMM]),b=function(){return c.set(arguments,d.datePartDelimiter)},d.mdy=b(d.ddd,d.month,d.day,d.year),d.ymd=b(d.ddd,d.year,d.month,d.day),d.dmy=b(d.ddd,d.day,d.month,d.year),d.date=function(a){return(d[Date.CultureInfo.dateElementOrder]||d.mdy).call(this,a)},d.format=c.process(c.many(c.any(c.process(c.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(a){if(d[a])return d[a];throw Date.Parsing.Exception(a)}),c.process(c.rtoken(/^[^dMyhHmstz]+/),function(a){return c.ignore(c.stoken(a))}))),function(a){return c.process(c.each.apply(null,a),e.finishExact)});var g={},h=function(a){return g[a]=g[a]||d.format(a)[0]};d.formats=function(a){if(a instanceof Array){for(var b=[],d=0;d<a.length;d++)b.push(h(a[d]));return c.any.apply(null,b)}return h(a)},d._formats=d.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]),d._start=c.process(c.set([d.date,d.time,d.expression],d.generalDelimiter,d.whiteSpace),e.finish),d.start=function(a){try{var b=d._formats.call({},a);if(0===b[1].length)return b}catch(c){}return d._start.call({},a)}}(),Date._parse=Date.parse,Date.parse=function(a){var b=null;if(!a)return null;try{b=Date.Grammar.start.call({},a)}catch(c){return null}return 0===b[1].length?b[0]:null},Date.getParseFunction=function(a){var b=Date.Grammar.formats(a);return function(a){var c=null;try{c=b.call({},a)}catch(d){return null}return 0===c[1].length?c[0]:null}},Date.parseExact=function(a,b){return Date.getParseFunction(b)(a)};var APP=$CONFIG.APP,URL=$CONFIG.URL,PUBLIC=$CONFIG.PUBLIC;$(function(){Zld.Init(),ZhiDaLan.Init(),MusicPlayer.Init(),HelpMouse.init(),Calendar.Init(),$(".newWin").on("click",function(){window.open($(this).attr("url"))}),$("#J_Apps").sortable(),$("#J_ScrollBox").find(".items").slidesjs({play:{active:!0,auto:!0,interval:1e4,swap:!1}}),$("#J_ScrollBox").find("li").on("hover",function(){$(this).toggleClass("hover")}),$("#J_Find .find li").on("hover",function(){$(this).toggleClass("hover")}),$(".screen-change-btn").on("click","a",function(){"wide"==$(this).attr("data-size")?($.cookies.set("screenStyle","wide"),$("body").attr("class","widescreen")):($.cookies.set("screenStyle","nml"),$("body").attr("class","")),window.sladePlugin.update(),Zld.Resize()})});var ZhiDaLan={Init:function(){$(document).on("click",function(){$("#direct_text").val($("#direct_text").attr("txt")).addClass("ipton")}),$("#direct_text").on("mouseout",function(){var a=$.trim($("#direct_text").val());(""==a||a==$("#direct_text").attr("txt"))&&($("#search_text").select(),$("#direct_text").addClass("ipton"))}),$("#direct_text").on("click",function(){var a=$.trim($("#direct_text").val());return a==$("#direct_text").attr("txt")&&$("#direct_text").val("").removeClass("ipton"),!1}).on("blur",function(){$("#direct_text").addClass("ipton")}),$(".J_direct_submit").on("click",function(){return $("#frm_drct").trigger("submit"),$("#direct_text")[0].focus(),!1}),$("#frm_drct").on("submit",function(){var a=$.trim($("#direct_text").val());return""==a||a==$("#direct_text").attr("txt")?!1:($("#direct_text").select(),void 0)})}},Zld={IsSortable:!1,Resize:function(){var a=$("#J_sortable"),b=a.width(),c=a.find("li");c.css("width","auto");var d=0,e=null,f=null;if($.each(c,function(a,c){d+=$(c).width()+5,!e&&d>b&&(e=a,f=d-$(c).width()-5)}),c.find(".nm").trigger("mouseout"),!(b>=d)&&b-f>75){var g=c.eq(e).width()+5-(b-f);g=~~Math.ceil(g/(e+1));var h=c.filter(":lt("+(e+1)+")");$.each(h,function(a,b){var c=$(b).width();$(b).css("width",c-g+"px")})}},Init:function(){var a=this,b=$("#J_ZldList");a.Resize(),$(document).on("click","#J_ZldList .add",function(){a.Create()}),$(document).on("click","#J_ZldList .ctl",function(){if($(this).hasClass("add"))return!1;var b=$(this).closest("li"),c=b.data("id"),d=b.find("b").html(),e=b.data("url");return a.Create(c,d,e),!1}),$(document).on("click","#J_ZldList .nm",function(){if(Zld.IsSortable)Zld.IsSortable=!1;else{var b=$(this).closest("li"),c=b.data("url");a.Go(c)}return!1});var c={};$(document).on("mouseover","#J_sortable li .nm",function(){var a=$(this),b=a.width();c.oldPaddingLeft=1*a.css("padding-left").replace("px",""),c.oldPaddingRight=1*a.css("padding-right").replace("px",""),a.css({width:b+c.oldPaddingRight+c.oldPaddingLeft+"px",display:"inline-block","text-align":"center","font-size":"14px","padding-left":0,"padding-right":0}),a.find("b").css("margin","0 -10px -5px 0")}).on("mouseout","#J_sortable li .nm",function(){var a=$(this);a.css({width:"auto",display:"","text-align":"center","font-size":"12px","padding-left":c.oldPaddingLeft+"px","padding-right":c.oldPaddingRight+"px"}),a.find("b").css("margin","0")}),$("#J_sortable").sortable({items:"> li:not(.add)",start:function(a,b){$(b.item).find("span").css("cursor","move")},update:function(a,b){$(b.item).find("span").css("cursor","pointer"),Zld.IsSortable=!0,$.post(URL+"/sortArealist",{area:$(this).sortable("toArray")},function(a){})},stop:function(b,c){a.Resize(),Zld.IsSortable=!1,$(c.item).find("span").css("cursor","pointer")}}),$("#J_sortable").sortable("enable"),$("#J_Apps").sortable({update:function(){$.post(URL+"/sortApp",{appIds:$(this).sortable("toArray")},function(a){})}}),$("#J_Apps").sortable("enable"),$(document).on("click","#J_Zld .lkd-add, #J_Zld .lkd-edit",function(){var c=$("#J_Zld"),d=c.find('input[name="name"]'),e=c.find('input[name="url"]'),f=c.find('input[name="id"]').val(),g=d.val(),h=e.val();if(!g)return alert("请输入网站名称"),d[0].focus(),!1;if(!h)return alert("请输入网址"),e[0].focus(),!1;var i=/^((https|http|ftp|rtsp|mms)?:\/\/)?(([0-9A-Za-z_!~*'().&=+$%-]+: )?[0-9A-Za-z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9A-Za-z_!~*'()-]+\.)*([0-9A-Za-z][0-9A-Za-z-]{0,61})?[0-9A-Za-z]\.[a-zA-Z]{2,6})(:[0-9]{1,4})?((\/?)|(\/[0-9A-Za-z_!~*'().;?:@&=+$,%#-]+)+\/?)$/;return i.test(h)?($.post(URL+"/updateArea",{web_id:f,web_url:h,web_name:g},function(d){var e=function(){var a=null;return b.find("ul>li").each(function(){return $(this).data("id")==f?(a=$(this),void 0):void 0}),a};if(1==d){var i=e();i.attr("url","/Link/index.html?mod=myarea&amp;url="+h),i.data("url",h),i.find("b").html(g)}else if(d>1){var i=b.find(".add").closest("li");i.before(a.CreateItem(d,g,h))}else-1==d?User.Login("请先登录"):alert("操作失败");c.dialog("close")}),!1):(alert("输入的网址有误"),e[0].focus(),!1)}),$(document).on("click","#J_Zld .lkd-del",function(){var a=$("#J_Zld"),c=a.find('input[name="id"]').val();return $.post(URL+"/delArea",{web_id:c},function(d){var e=function(){var a=null;return b.find("ul>li").each(function(){return $(this).data("id")==c?(a=$(this),void 0):void 0}),a};if(1==d){var f=e();f.remove()}else-1==d?User.Login("请先登录"):alert("操作失败");a.dialog("close")}),!1})},Go:function(a){var b=$("#J_MyAreaForm");b.find('input[name="url"]').val(a),b.submit()},Create:function(a,b,c){if(!$("#J_Zld").size()){var d="";d+='<div class="lk-dialog lk-dialog-zld" id="J_Zld">',d+='	<div class="lkd-hd">',d+='		<a class="close" href="javascript:;">X</a>',d+="	</div>",d+='	<div class="lkd-bd">',d+='		<form action="">',d+="			<ul>",d+='				<li><input class="ipt" type="text" name="name" placeholder="网站名称" /></li>',d+='				<li><input class="ipt" type="text" name="url" placeholder="网址" /></li>',d+="			</ul>",d+="		</form>",d+="	</div>",d+='	<div class="lkd-ft">',d+='		<input type="hidden" name="id" value="" />',d+='		<span class="editp" style="display:none;"><a class="lkd-edit" href="javascript:;">确认编辑</a>',d+='		<a class="lkd-del" href="javascript:;">删除网址</a></span>',d+='		<span class="addp"><a class="lkd-add" href="javascript:;">确认添加</a></span>',d+="	</div>",d+="</div>",$("body").append(d);var e=$("#J_Zld");e.dialog({autoOpen:!1,width:384,modal:!0,resizable:!1,open:function(){setTimeout(function(){e.find('input[name="name"]').select()},20)}}),e.find(".close").on("click",function(){return e.dialog("close"),!1}),e.find('input[type="text"]').on("focus",function(){$(this).css("background","#fff")}).on("blur",function(){$(this).css("background","#eeefef")}),e.find('input[name="name"],input[name="url"]').on("mouseover",function(){$(this).focus().select()}),e.find('input[name="name"],input[name="url"]').on("keydown",function(a){13==a.keyCode&&(e.find(".editp").is(":visible")?e.find(".lkd-edit").trigger("click"):e.find(".lkd-add").trigger("click"))})}var e=$("#J_Zld");a?(e.find('input[name="id"]').val(a),e.find('input[name="name"]').val(b),e.find('input[name="url"]').val(c),e.find(".editp").show(),e.find(".addp").hide()):(e.find('input[name="id"]').val(""),e.find('input[name="name"]').val(""),e.find('input[name="url"]').val(""),e.find(".editp").hide(),e.find(".addp").show()),e.dialog("open")},CreateItem:function(a,b,c){var d='<li id="'+a+'" url="/Link/index.html?mod=myarea&amp;url='+c+'" data-id="'+a+'" data-url="'+c+'">';return d=d+'<i class="mask"></i><span class="nm"><b>'+b+"</b></span>",d+='<span class="ctl"></span>',d+="</li>"}},MusicPlayer={Init:function(){var a=this;$("#J_Music").find(".top-mv .nm a").on("click",function(){return a.Play($(this).data("url"),1),!1}),$("#J_Music").find(".hot-music a").on("click",function(){return a.Play($(this).data("url"),2,$(this).closest("li").data("id")),!1}),$("#J_Music").on("mouseenter",".top-mv li",function(){$(this).find(".music-controller").show()});var b=$(".music-controller");b.on("mouseleave",function(){$(this).find(".pause").length||$(this).hide()}).on("click",".go",function(){var b=$(this);b.removeClass("go").addClass("pause"),$(".music .on").removeClass("on");var c=b.parent(".music-controller").siblings(".nm").find("a").addClass("on").attr("data-url");a.Play(c),b.parents("li").siblings("li").find(".big").removeClass("pause").addClass("go").parent(".music-controller").hide()}).on("click",".pause, .stop",function(){var b=$(this);b.removeClass("pause").addClass("go"),$(".music .on").removeClass("on"),a.Stop(),b.parent(".music-controller").hide()}).on("click",".next",function(){$(this).parent(".music-controller").show().find(".big").removeClass("go").addClass("pause");var b,c=$(".music .on");b=0==c.length||0!=c.parents(".top-mv").length?1:1*c.parent("li").attr("data-id")+1,c.removeClass("on"),0==$(".song"+b).length&&(b=1);var d=$(".song"+b).find("a").addClass("on").attr("data-url");a.Play(d),$(this).parents("li").siblings("li").find(".big").removeClass("pause").addClass("go").parent(".music-controller").hide()}).on("click",".prev",function(){$(this).parent(".music-controller").show().find(".big").removeClass("go").addClass("pause");var b,c=$(".music .on"),d=$(".hot-music").find("li:last").attr("data-id");b=0==c.length||0!=c.parents(".top-mv").length?d:1*c.parent("li").attr("data-id")-1,c.removeClass("on"),0==$(".song"+b).length&&(b=d);var e=$(".song"+b).find("a").addClass("on").attr("data-url");a.Play(e),$(this).parents("li").siblings("li").find(".big").removeClass("pause").addClass("go").parent(".music-controller").hide()})},Play:function(a,b,c){if($("#J_Music").find(".top-mv li").eq(0).trigger("mouseover"),$("#J_Music").find(".music-control"),c&&($(".top1").find(".music-controller").show().find(".big").removeClass("go").addClass("pause"),$(".top2").find(".music-controller").hide().find(".big").removeClass("pause").addClass("go")),$("#J_MusicPlayer").size()?$("#J_MusicPlayer").attr("src",a):$("body").append('<p style="height:0;overflow:hidden;"><iframe id="J_MusicPlayer" frameborder="0" style="visibility:hidden;" src="'+a+'"></iframe></p>'),$("#J_MusicPlayer").data("type",b),$("#J_MusicPlayer").data("currid",c?c:0),1==b);else if(2==b){$(".top-mv .nm a").removeClass("on");var d=$(".song"+c);d.siblings().find("a").removeClass("on"),d.find("a").addClass("on")}},Stop:function(){$(".hot-music>ul>li>a").removeClass("on"),$(".top-mv .nm a").removeClass("on"),$("#J_MusicPlayer").size()&&$("#J_MusicPlayer").remove()}},HelpMouse={init:function(){var a=this,b=!1,c=0;$(document).on("mousemove","#direct_text",function(){return $("#direct_text").val()==$("#direct_text").attr("txt")&&($("#direct_text").select().removeClass("ipton"),b=!1,""==$.trim($("#search_text").val())&&$("#J_thl_div").hide()),!1}),$(document).on("mouseenter","#J_header",function(){0==c&&(c=1)}).on("mouseleave","#J_header",function(){c=0}).on("mousemove","#direct_text, #J_direct_submit",function(){c=2}),$(document).on("mousemove",function(d){var e=1;if($(".links123-app-frame").each(function(){$(this).is(":visible")&&(e?e=0:"")}),!e)return!1;var f=a.getcoords(d),g=$("#search_text"),h=$("#direct_text"),i=g.offset().left-10;if(i+g.width(),h.offset().left+h.width()+10,!($(window).scrollTop()>800)){if(1==c)return $("#direct_text").val()==$("#direct_text").attr("txt")&&($("#direct_text").select().removeClass("ipton"),b=!1,""==$.trim($("#search_text").val())&&$("#J_thl_div").hide()),void 0;if(f.y<200&&f.x<i&&$("#direct_text").val()==$("#direct_text").attr("txt")&&($("#direct_text").select().removeClass("ipton"),b=!1,""==$.trim($("#search_text").val())&&$("#J_thl_div").hide()),f.y<200&&f.x>i&&$("#J_thl_div").is(":hidden")&&"true"==$("#J_thl_div").attr("data-hide")&&$("#J_thl_div").attr("data-hide","false").show(),f.y>200&&f.y<360||f.x>i){if($("#direct_text").val($("#direct_text").attr("txt")).addClass("ipton"),$("#J_thl_div").is(":hidden")&&"true"==$("#J_thl_div").attr("data-hide"))return;b||($("#search_text").select().trigger("mouseenter"),b=!0)}f.y>360&&$("#J_thl_div").attr("data-hide","true").hide()}})},getcoords:function(a){return a.pageX||a.pageY?{x:a.pageX,y:a.pageY}:{x:a.clientX+document.body.scrollLeft-document.body.clientLeft,y:a.clientY+document.body.scrollTop}}};!function(){var a={};a.CHS_WEEKS=["一","二","三","四","五","六","日"],a.CHS_MONTHS=["一","二","三","四","五","六","七","八","九","十","十一","十二"],a.ENG_WEEKS=["MON","TUE","WED","THU","FRI","SAT","SUN"],a.ENG_MONTHS=["January","February","March","April","May","June","July","Auguest","September","October","November","December"],Date.prototype.add=function(a){return new Date(1*this+864e5*a)};var b=function(a){var b,c,d=function(){this.init.apply(this,arguments)};return d.prototype.init=function(){},a&&(c=function(){},c.prototype=a.prototype,d.uber=a.prototype,d.prototype=new c),d.extend=function(a){for(b in a)d[b]=a[b]},d.include=function(a){for(b in a)d.prototype[b]=a[b],d.uber&&"function"==typeof d.uber[b]&&(a[b].spfunc=d.uber[b])},d.prototype._super=function(){arguments.callee.caller.spfunc.apply(this,arguments)},d},c={Init:function(a){var b=this;b.type=a||"Date",b.weekStart=1,b.marksStore={},b.timer=null;var c=b.today=Date.today();b.tooltip=$('<div class="calendar-tip"><div class="content"></div><span class="ang"></span></div>'),b.ajaxOverlayer=$(".cal-ajax-overlayer"),b.setCurrentDate(c),$(".cal-header-date-prev").on("click",function(){b.prevView()}),$(".cal-header-date-next").on("click",function(){b.nextView()}),$(".cal-view-select-btn").on("click",function(){$(".cal-view-select-btn").removeClass("active");var a=$(this).attr("data-type");b.changeType(a)}),$(".cal_v303_prev_btn").on("click",function(){b.MainViewChangeFunc(b.currentDate-1)}),$(".cal_v303_next_btn").on("click",function(){b.MainViewChangeFunc(b.currentDate+1)}),$(".cal_v303_mini_cal").on("click","td",function(){var a=$(this).find("a").attr("data-date");b.MainViewChangeFunc(a)}),$(document).on("click",".extra-calendar-overlayer",function(){$(this).hide(),$(".extra-calendar").hide()}),$(document).on("click",".cal_show_pop_btn",function(){var a=$(this).attr("data-type");b.changeType(a),$(".extra-calendar, .extra-calendar-overlayer").show()}),$(document).on("click",".cal_v303_more",function(){b.changeType("Date"),$(".extra-calendar, .extra-calendar-overlayer").show()}),$(document).on("click",".cal_v303_mark_list_wrap li a",function(){var a=$(this).parent("li");a.attr("data-id"),a.remove()}),b.MainView.Init(),b.DateView.Init(),b.MonthView.Init(),b.WeekView.Init(),b.DateView.miniMonthView.render(),b.DateView.mainPanel.show(),b.loadMarks()},showDate:function(){var a=this,b=a.type,c=a.currentDate,d=a.currentMonth,e=a.currentYear;if("Date"==b&&(a.date_text=e+"年"+(d+1)+"月"+c+"日"),"Week"==b){var f=a.currentWeekStartObject,g=a.currentWeekEndObject,h=f.getFullYear(),i=f.getMonth()+1,j=f.getDate(),k=g.getFullYear(),l=g.getMonth()+1,m=g.getDate(),n=k==h?"":k+"年";if(""!=n||l!=i)var o=l+"月";else var o="";a.date_text=h+"年"+i+"月"+j+"日 - "+n+o+m+"日"}"Month"==b&&(a.date_text=e+"年"+(d+1)+"月"),a.cal_date_text=e+"年"+(d+1)+"月"+c+"日",$(".cal-header-date").html(a.date_text),$(".cal_v303_show_date").html(a.cal_date_text)},changeType:function(a){this.type=a,$(".cal-view-select-btn").removeClass("active"),$(".cal-view-select-btn-"+a.toLowerCase()).addClass("active"),this.showDate(),this.DateView.mainPanel.hide(),this.WeekView.mainPanel.hide(),this.MonthView.mainPanel.hide();var b=this[a+"View"];b.mainPanel.show(),this.MainView.renderMonthView(),"Date"==a&&c.DateView.miniMonthView.render(),"Month"==a&&c.MonthView.tableView.render(),b.renderMarks()},MainViewChangeFunc:function(a){var b=this,c=new Date(b.currentYear,b.currentMonth,a);b.setCurrentDate(c),b.MainView.renderMonthView(),b.marksStore[b.currentMarkId]?b.DateView.renderMarks():b.loadMarks()},prevView:function(){this[this.type+"PrevView"]()},nextView:function(){this[this.type+"NextView"]()},DateChangeFunc:function(a){var b=this,c=new Date(b.currentYear,b.currentMonth,a);b.setCurrentDate(c),b.DateView.miniMonthView.render(),b.MainView.renderMonthView(),b.marksStore[b.currentMarkId]?b.DateView.renderMarks():b.loadMarks()},DatePrevView:function(){this.DateChangeFunc(this.currentDate-1)},DateNextView:function(){this.DateChangeFunc(this.currentDate+1)},WeekChangeFunc:function(a){var b=this,c=new Date(b.currentYear,b.currentMonth,a);b.setCurrentDate(c);var d=b.currentWeekStartObject.getFullYear()+"-"+b.currentWeekStartObject.getMonth(),e=b.currentWeekEndObject.getFullYear()+"-"+b.currentWeekEndObject.getMonth();b.MainView.renderMonthView(),b.marksStore[d]&&b.marksStore[e]?b.WeekView.renderMarks():b.loadMarks()},WeekPrevView:function(){this.WeekChangeFunc(this.currentWeekStart-7)},WeekNextView:function(){this.WeekChangeFunc(this.currentWeekStart+7)},MonthChangeFunc:function(a){var b=this,c=new Date(b.currentYear,a,1);b.setCurrentDate(c),b.MonthView.tableView.render(),b.MainView.renderMonthView(),b.marksStore[b.currentMarkId]?b.MonthView.renderMarks():b.loadMarks()},MonthPrevView:function(){this.MonthChangeFunc(this.currentMonth-1)},MonthNextView:function(){this.MonthChangeFunc(this.currentMonth+1)},request:function(a){var b={type:"GET",dataType:"json"};a=$.extend(b,a);var c=$.Deferred(),d=$.ajax(a).done(function(a){1===a.status?c.resolveWith(d,[a.data]):c.rejectWith(d,[a.status,a.info])}).fail(function(a){200==a.status?c.rejectWith(d,[a.status,"JSON解析失败"]):c.rejectWith(d,[a.status,a.statusText])});return c.promise()},howManyDaysInMonth:function(a,b){var c=[31,28,31,30,31,30,31,31,30,31,30,31];return(1==b&&0==a%40&&0!=a%100||0==a%400)&&(c[1]=29),c[b]},posInYear:function(a,b,c){for(var d=1;b>d;++d)c+=howManyDaysInMonth(a,d);return c},compare:function(a,b){return a.getFullYear()!=b.getFullYear()?a.getFullYear()-b.getFullYear():a.getMonth()!=b.getMonth()?a.getMonth()-b.getMonth():a.getDate()!=b.getDate()?a.getDate()-b.getDate():0},posInWeek:function(a,b,c){return new Date(a,b,c).getDay()},setCurrentDate:function(a){var b=this;b.currentDateObject=a,b.currentDate=a.getDate(),b.currentMonth=a.getMonth(),b.currentYear=a.getFullYear(),b.currentWeekStart=a.getDate()-(a.getDay()-c.weekStart),b.currentWeekEnd=b.currentWeekStart+6,b.currentWeekStartObject=new Date(b.currentYear,b.currentMonth,b.currentWeekStart),b.currentWeekEndObject=new Date(b.currentYear,b.currentMonth,b.currentWeekEnd),b.currentMarkId=b.currentYear+"-"+b.currentMonth,b.showDate()},loadMarks:function(){var a=this,b=a.currentYear,c=a.currentMonth;if("Week"==a.type)var d=a.currentWeekStartObject.getFullYear(),e=a.currentWeekStartObject.getMonth(),f=a.currentWeekEndObject.getFullYear(),g=a.currentWeekEndObject.getMonth();if("Week"==a.type&&d!=f||e!=g){var h=a.request({url:PUBLIC+"/IndexV4/src/json/"+d+"/"+(e+1)+".json"}),i=a.request({url:PUBLIC+"/IndexV4/src/json/"+f+"/"+(g+1)+".json"});$.when(h,i).fail(function(){a[a.type+"View"].renderMarks()}).done(function(b,c){a.ajaxOverlayer.hide(),b=null===b?[]:b,c=null===c?[]:c,a.marksStore[d+"-"+e]=b,a.marksStore[f+"-"+g]=c,a[a.type+"View"].renderMarks(),a.MainView.renderMarks()})}else a.request({url:PUBLIC+"/IndexV4/src/json/"+b+"/"+(c+1)+".json"}).fail(function(){a[a.type+"View"].renderMarks()}).done(function(b){a.ajaxOverlayer.hide(),b=null===b?[]:b,a.marksStore[a.currentMarkId]=b,a[a.type+"View"].renderMarks(),a.MainView.renderMarks()})}};c.MainView={Init:function(){var a=this;a.mainPanel=$(".cal_v303"),a.monthPanelElement=$(".cal_v303_mini_cal"),a.monthView=new e,a.listElement=$(".cal_v303_mark_list_wrap").find("ul"),a.renderMonthView()},renderMonthView:function(){var a=this;a.monthView.render(a.monthPanelElement.find("tbody")),a.renderMarks()},renderMarks:function(){var a=this,b=c.marksStore[c.currentYear+"-"+c.currentMonth];if(b&&b[c.currentDate])var d=a.marks=b[c.currentDate];else var d=a.marks=[];for(var e,f="",g=0,h=d.length<4?d.length:4;h>g;g++)e=d[g],f+='<li data-id="'+e.id+'"><b></b><span class="cal_v303_time_span">'+new Date(1e3*e.time).toString("HH:mm")+"</span><span>"+e.desc+'</span><a href="javascript:;">×</a></li>';a.listElement.html(f)}},c.DateView={Init:function(){var a=c.DateView;a.mainPanel=$(".cal-day"),a.miniMonthElement=$(".cal-mini-month-panel").find("tbody"),a.marksListElement=$(".cal-day-note-list"),a.burnDownElement=$(".cal-day-burn-down-chart"),a.burnDownChartElement=a.burnDownElement.find(".chart"),a.burnDownChartTimeElement=a.burnDownChartElement.find(".time-show"),a.miniMonthView=new e,a.miniMonthElement.on("click","a",function(){var a=$(this).attr("data-date");c.DateChangeFunc(a)}),a.burnDownElement.find(".chart-body").dblclick(function(b){var c=b.pageY-$(this).offset().top;c-=c%3;var d=+Date.today()+1e3*60*15*(c/3),e=new g({time:d/1e3,desc:""});e.appendTo($(this));var f=a.burnDownChartElement.offset().top+a.burnDownChartElement.height();e.html.offset().top+e.html.height()<=f&&e.html.addClass("cal-day-event-item-pass"),e.html.find(".desc").trigger("dblclick")})},renderBurnDownChart:function(){clearTimeout(c.timer);var a=this,b=c.compare(c.currentDateObject,Date.today());if(0!=b)a.burnDownChartTimeElement.hide(),0>b?(a.burnDownChartElement.height(a.burnDownElement.height()).show(),a.burnDownElement.find(".cal-day-event-item").addClass("cal-day-event-item-pass")):a.burnDownChartElement.hide();else{var d=new Date,e=d-Date.today(),f=86400/a.burnDownElement.find(".chart-body").height(),g=e/1e3/f+39;a.burnDownChartElement.height(g).show(),a.burnDownChartTimeElement.html(d.toString("HH:mm")).show(),setTimeout(function(){var b=a.burnDownChartElement.offset().top+a.burnDownChartElement.height();a.burnDownElement.find(".cal-day-event-item").each(function(){$(this).offset().top+$(this).height()<=b&&$(this).addClass("cal-day-event-item-pass")
})},0),c.timer=setTimeout(function(){c.DateView.renderBurnDownChart()},3e4)}},renderMarks:function(){var a=this,b=c.marksStore[c.currentYear+"-"+c.currentMonth];if(b&&b[c.currentDate])var d=a.marks=b[c.currentDate];else var d=a.marks=[];var e="",f=0,h=a.burnDownElement.find(".chart-body");h.empty(),$.each(d,function(a,b){e+="<li>"+a+" : "+b.desc+"</li>",f++;var c=new g(b);c.appendTo(h)}),a.marksListElement.find(".cal-day-ul").html(e),a.marksListElement.find(".marks-count").html(f),a.renderBurnDownChart()}},c.MonthView={Init:function(){var a=this;a.mainPanel=$(".cal-month"),a.tableElement=a.mainPanel.find("table"),a.tableView=new f,a.tableElement.on("click","a",function(){var a=c.currentYear,b=c.currentMonth,d=$(this).attr("data-date");d=new Date(a,b,d),c.setCurrentDate(d),c.changeType("Date")})},renderBurnDownChart:function(){var a=this,b=c.currentYear,d=c.currentMonth,e=c.today.getDate();b<=c.today.getFullYear()&&d<c.today.getMonth()?a.tableElement.find("td").addClass("month_pass_date"):b==c.today.getFullYear()&&d==c.today.getMonth()&&a.tableElement.find("td").each(function(b,c){var d=$(c).find("a").attr("data-date");-1!=d&&e>d?$(c).addClass("month_pass_date"):d==e&&(a.todayElement=$(c))})},renderMarks:function(){var a=this,b=c.marksStore[c.currentYear+"-"+c.currentMonth];a.marks=b?b:b={},$.each(b,function(b,c){var d=a.tableElement.find(".td_"+b).parent("td");$.each(c,function(a){var b=7*parseInt(a/7)+5,c=7*(a%7)+5;b="top:"+b+"px;",c="left:"+c+"px;";var e=b+c;d.append('<b class="month_task_dot" style="'+e+'"></b>')})}),a.renderBurnDownChart()}},c.WeekView={Init:function(){var a=this;a.mainPanel=$(".cal-week"),a.tableElement=a.mainPanel.find("table"),a.tableElement.on("click","td",function(){var a=$(this).attr("data-year"),b=$(this).attr("data-month"),d=$(this).attr("data-date");c.setCurrentDate(new Date(a,b,d)),c.changeType("Date")})},renderBurnDownChart:function(){clearTimeout(c.timer);var a=this;c.currentWeekStartObject;var b=c.today;a.burnDownChartElement=$('<div class="chart"><h5 class="time-show">00:00</h5></div>');var d=b.getDay()-c.weekStart,e=a.tableElement.find("td:eq("+d+")");a.burnDownChartElement.appendTo(e);var f=new Date,g=f-c.today,h=86400/(e.height()||293)-6,i=g/1e3/h-6;a.burnDownChartElement.height(i).show(),a.burnDownChartElement.find(".time-show").html(f.toString("HH:mm"));var j=a.burnDownChartElement.offset().top+a.burnDownChartElement.height();setTimeout(function(){e.find(".week-mark-line").each(function(){$(this).offset().top+$(this).height()<=j&&$(this).addClass("week-mark-line-pass")})},0),c.timer=setTimeout(function(){c.DateView.renderBurnDownChart()},3e4)},renderMarks:function(){var a=this,b=c.currentWeekStartObject;c.currentWeekEndObject;var d,e,f,g,h,i,j,k,l,m,n,o,p,q=c.today;a.tableElement.find("td").empty();var r=!1;for(k=0;6>=k;k++)h=b.add(k),d=h.getFullYear(),e=h.getMonth(),f=h.getDate(),g=c.marksStore[d+"-"+e]&&c.marksStore[d+"-"+e][f]?c.marksStore[d+"-"+e][f]:[],i=a.tableElement.find("td:eq("+k+")"),j=c.compare(h,q),i.removeClass("month_pass_date"),0>j&&i.addClass("month_pass_date"),0==j&&(r=!0),$.each(g,function(a,b){l=$('<div class="week-mark-line"><b></b><span></span></div>'),m=new Date(1e3*b.time),n=b.desc,o=m.getHours(),p=m.getMinutes(),l.css("top",3*4*o+3*(p/15)),i.attr({"data-date":f,"data-month":e,"data-year":d}).append(l)});r&&a.renderBurnDownChart()}};var d=new b;d.include({init:function(){this.weekStart=c.weekStart,this.year=null,this.month=null},initBaseArray:function(a,b){var d=this;d.year=a,d.month=b;var e,f=d.weekStart,g=c.howManyDaysInMonth(a,b),h=c.posInWeek(a,b,1),i=[];for(e=1;g>=e;e++)i.push(e);for(e=1,g=h-f;g>=e;e++)i.unshift(0);if(g=i.length%7,0==!g)for(g=7-g,e=1;g>=e;e++)i.push(-1);d.baseArray=i},buildTable:function(){var a=this;(a.year!==c.currentYear||a.month!==c.currentMonth)&&a.initBaseArray(c.currentYear,c.currentMonth);for(var b,d=a.baseArray,e="",f=0,g=d.length;g>f;f++)b=d[f],b=0==b||-1==b?'<td class="op-td-'+f%7+'"><a data-date="'+b+'" style="display:none"></a></td>':'<td class="op-td-'+f%7+'"><a class="td_'+b+'" href="javascript:;" data-date="'+b+'">'+b+"</a></td>",0==(f+1)%7&&(b+="</tr>"),0==f%7&&(b="<tr>"+b),e+=b;return e}});var e=new b(d);e.include({render:function(a){var b=this;a=a||c.DateView.miniMonthElement;var d=b.buildTable();a instanceof $?a.html(d):$(a).html(d),a.find(".td_"+c.currentDate).addClass("active")}});var f=new b(d);f.include({render:function(a){var b=this;a=a||c.MonthView.tableElement.find("tbody");var d=b.buildTable();a instanceof $?a.html(d):$(a).html(d),a.find(".td_"+c.currentDate).addClass("active")}});var g=new b;g.include({init:function(a){var b=this,c=new Date(1e3*a.time),d=a.desc,e=c.getFullYear(),f=c.getMonth(),g=c.getDate(),h=c.getHours(),i=c.getMinutes();b.id=a.id,b.date=g,b.baseTime=+new Date(e,f,g,0);var j=c.toString("HH:mm"),k='<div class="cal-day-event-item"><b class="dot"></b><span class="time">'+j+"</span>"+'<span class="desc">'+d+"</span>"+'<a class="enter" href="javascript:;">确定</a>'+'<a class="del" href="javascript:;">×</a>'+"</div>";b.html=$(k).css("top",3*4*h+3*(i/15)),b.html.find(".desc").dblclick(function(){var a=$(this).html();return $(this).html('<input class="input_desc" type="text" maxlength="30" value="'+a+'" >'),b.html.find(".input_desc").select(),b.html.find(".enter").show(),!1}),b.html.find(".enter").click(function(){var a=$(this).siblings(".desc"),c=a.find(".input_desc").val();a.html(c),$(this).hide(),b.update()}),b.html.find(".del").click(function(){b.html.remove()})},update:function(){var a=this;void 0!==a.id},removeElement:function(){this.html.remove()},appendTo:function(a){var b=this;b.html.appendTo(a),b.html.draggable({axis:"y",grid:[100,3],containment:"parent",start:function(){},drag:function(a,d){var e=d.position.top,f=1e3*60*15*(e/3)+b.baseTime;f=new Date(f),f=f.getDate()!=b.date?"24:00":f.toString("HH:mm"),$(this).find(".time").html(f),baseLine=c.DateView.burnDownChartElement.offset().top+c.DateView.burnDownChartElement.height(),$(this).offset().top+$(this).height()<=baseLine?$(this).addClass("cal-day-event-item-pass"):$(this).removeClass("cal-day-event-item-pass")},stop:function(){b.update()}})}}),window.Calendar=c}(),function(b){Array.prototype.map||(Array.prototype.map=function(a,b){var c,d,e;if(null==this)throw new TypeError(" this is null or not defined");var f=Object(this),g=f.length>>>0;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(b&&(c=b),d=new Array(g),e=0;g>e;){var h,i;e in f&&(h=f[e],i=a.call(c,h,e,f),d[e]=i),e++}return d});var c=b.detect=function(){var b=function(){},c={browser_parsers:[{regex:"^(Opera)/(\\d+)\\.(\\d+) \\(Nintendo Wii",family_replacement:"Wii",manufacturer:"Nintendo"},{regex:"(SeaMonkey|Camino)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)",family_replacement:"Camino",other:!0},{regex:"(Pale[Mm]oon)/(\\d+)\\.(\\d+)\\.?(\\d+)?",family_replacement:"Pale Moon (Firefox Variant)",other:!0},{regex:"(Fennec)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)",family_replacement:"Firefox Mobile"},{regex:"(Fennec)/(\\d+)\\.(\\d+)(pre)",family_replacment:"Firefox Mobile"},{regex:"(Fennec)/(\\d+)\\.(\\d+)",family_replacement:"Firefox Mobile"},{regex:"Mobile.*(Firefox)/(\\d+)\\.(\\d+)",family_replacement:"Firefox Mobile"},{regex:"(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?)",family_replacement:"Firefox ($1)"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(a\\d+[a-z]*)",family_replacement:"Firefox Alpha"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(b\\d+[a-z]*)",family_replacement:"Firefox Beta"},{regex:"(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(a\\d+[a-z]*)",family_replacement:"Firefox Alpha"},{regex:"(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(b\\d+[a-z]*)",family_replacement:"Firefox Beta"},{regex:"(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?",family_replacement:"Firefox ($1)"},{regex:"(Firefox).*Tablet browser (\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"MicroB",tablet:!0},{regex:"(MozillaDeveloperPreview)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?"},{regex:"(Flock)/(\\d+)\\.(\\d+)(b\\d+?)",family_replacement:"Flock",other:!0},{regex:"(RockMelt)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Rockmelt",other:!0},{regex:"(Navigator)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Netscape"},{regex:"(Navigator)/(\\d+)\\.(\\d+)([ab]\\d+)",family_replacement:"Netscape"},{regex:"(Netscape6)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Netscape"},{regex:"(MyIBrow)/(\\d+)\\.(\\d+)",family_replacement:"My Internet Browser",other:!0},{regex:"(Opera Tablet).*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera Tablet",tablet:!0},{regex:"(Opera)/.+Opera Mobi.+Version/(\\d+)\\.(\\d+)",family_replacement:"Opera Mobile"},{regex:"Opera Mobi",family_replacement:"Opera Mobile"},{regex:"(Opera Mini)/(\\d+)\\.(\\d+)",family_replacement:"Opera Mini"},{regex:"(Opera Mini)/att/(\\d+)\\.(\\d+)",family_replacement:"Opera Mini"},{regex:"(Opera)/9.80.*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera"},{regex:"(webOSBrowser)/(\\d+)\\.(\\d+)",family_replacement:"webOS"},{regex:"(webOS)/(\\d+)\\.(\\d+)",family_replacement:"webOS"},{regex:"(wOSBrowser).+TouchPad/(\\d+)\\.(\\d+)",family_replacement:"webOS TouchPad"},{regex:"(luakit)",family_replacement:"LuaKit",other:!0},{regex:"(Lightning)/(\\d+)\\.(\\d+)([ab]?\\d+[a-z]*)",family_replacement:"Lightning",other:!0},{regex:"(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?) \\(Swiftfox\\)",family_replacement:"Swiftfox",other:!0},{regex:"(Firefox)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)? \\(Swiftfox\\)",family_replacement:"Swiftfox",other:!0},{regex:"rekonq",family_replacement:"Rekonq",other:!0},{regex:"(conkeror|Conkeror)/(\\d+)\\.(\\d+)\\.?(\\d+)?",family_replacement:"Conkeror",other:!0},{regex:"(konqueror)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Konqueror",other:!0},{regex:"(WeTab)-Browser",family_replacement:"WeTab",other:!0},{regex:"(Comodo_Dragon)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Comodo Dragon",other:!0},{regex:"(YottaaMonitor)",family_replacement:"Yottaa Monitor",other:!0},{regex:"(Kindle)/(\\d+)\\.(\\d+)",family_replacement:"Kindle"},{regex:"(Symphony) (\\d+).(\\d+)",family_replacement:"Symphony",other:!0},{regex:"Minimo",family_replacement:"Minimo",other:!0},{regex:"(CrMo)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Mobile"},{regex:"(CriOS)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Mobile iOS"},{regex:"(Chrome)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+) Mobile",family_replacement:"Chrome Mobile"},{regex:"(chromeframe)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Frame"},{regex:"(UC Browser)(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"UC Browser",other:!0},{regex:"(SLP Browser)/(\\d+)\\.(\\d+)",family_replacement:"Tizen Browser",other:!0},{regex:"(Epiphany)/(\\d+)\\.(\\d+).(\\d+)",family_replacement:"Epiphany",other:!0},{regex:"(SE 2\\.X) MetaSr (\\d+)\\.(\\d+)",family_replacement:"Sogou Explorer",other:!0},{regex:"(Pingdom.com_bot_version_)(\\d+)\\.(\\d+)",family_replacement:"PingdomBot",other:!0},{regex:"(facebookexternalhit)/(\\d+)\\.(\\d+)",family_replacement:"FacebookBot"},{regex:"(Twitterbot)/(\\d+)\\.(\\d+)",family_replacement:"TwitterBot"},{regex:"(AdobeAIR|Chromium|FireWeb|Jasmine|ANTGalio|Midori|Fresco|Lobo|PaleMoon|Maxthon|Lynx|OmniWeb|Dillo|Camino|Demeter|Fluid|Fennec|Shiira|Sunrise|Chrome|Flock|Netscape|Lunascape|WebPilot|NetFront|Netfront|Konqueror|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|Opera Mini|iCab|NetNewsWire|ThunderBrowse|Iron|Iris|UP\\.Browser|Bunjaloo|Google Earth|Raven for Mac)/(\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(Bolt|Jasmine|IceCat|Skyfire|Midori|Maxthon|Lynx|Arora|IBrowse|Dillo|Camino|Shiira|Fennec|Phoenix|Chrome|Flock|Netscape|Lunascape|Epiphany|WebPilot|Opera Mini|Opera|NetFront|Netfront|Konqueror|Googlebot|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|iCab|NetNewsWire|Iron|Space Bison|Stainless|Orca|Dolfin|BOLT|Minimo|Tizen Browser|Polaris)/(\\d+)\\.(\\d+)"},{regex:"(iRider|Crazy Browser|SkipStone|iCab|Lunascape|Sleipnir|Maemo Browser) (\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(iCab|Lunascape|Opera|Android|Jasmine|Polaris|BREW) (\\d+)\\.(\\d+)\\.?(\\d+)?"},{regex:"(Android) Donut",v2_replacement:"2",v1_replacement:"1"},{regex:"(Android) Eclair",v2_replacement:"1",v1_replacement:"2"},{regex:"(Android) Froyo",v2_replacement:"2",v1_replacement:"2"},{regex:"(Android) Gingerbread",v2_replacement:"3",v1_replacement:"2"},{regex:"(Android) Honeycomb",v1_replacement:"3"},{regex:"(IEMobile)[ /](\\d+)\\.(\\d+)",family_replacement:"IE Mobile"},{regex:"(MSIE) (\\d+)\\.(\\d+).*XBLWP7",family_replacement:"IE Large Screen"},{regex:"(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(pre|[ab]\\d+[a-z]*)?"},{regex:"(Obigo)InternetBrowser",other:!0},{regex:"(Obigo)\\-Browser",other:!0},{regex:"(Obigo|OBIGO)[^\\d]*(\\d+)(?:.(\\d+))?",other:!0},{regex:"(MAXTHON|Maxthon) (\\d+)\\.(\\d+)",family_replacement:"Maxthon",other:!0},{regex:"(Maxthon|MyIE2|Uzbl|Shiira)",v1_replacement:"0",other:!0},{regex:"(PLAYSTATION) (\\d+)",family_replacement:"PlayStation",manufacturer:"Sony"},{regex:"(PlayStation Portable)[^\\d]+(\\d+).(\\d+)",manufacturer:"Sony"},{regex:"(BrowseX) \\((\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(POLARIS)/(\\d+)\\.(\\d+)",family_replacement:"Polaris",other:!0},{regex:"(Embider)/(\\d+)\\.(\\d+)",family_replacement:"Polaris",other:!0},{regex:"(BonEcho)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Bon Echo",other:!0},{regex:"(iPod).+Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPod).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPod)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone).*Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPad).*Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(iPad).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(iPad)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(AvantGo) (\\d+).(\\d+)",other:!0},{regex:"(Avant)",v1_replacement:"1",other:!0},{regex:"^(Nokia)",family_replacement:"Nokia Services (WAP) Browser",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)\\.(\\d+)",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+)",manufacturer:"Nokia"},{regex:"(BrowserNG)/(\\d+)\\.(\\d+).(\\d+)",family_replacement:"NokiaBrowser",manufacturer:"Nokia"},{regex:"(Series60)/5\\.0",v2_replacement:"0",v1_replacement:"7",family_replacement:"NokiaBrowser",manufacturer:"Nokia"},{regex:"(Series60)/(\\d+)\\.(\\d+)",family_replacement:"Nokia OSS Browser",manufacturer:"Nokia"},{regex:"(S40OviBrowser)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Nokia Series 40 Ovi Browser",manufacturer:"Nokia"},{regex:"(Nokia)[EN]?(\\d+)",manufacturer:"Nokia"},{regex:"(PlayBook).+RIM Tablet OS (\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Blackberry WebKit",tablet:!0,manufacturer:"Nokia"},{regex:"(Black[bB]erry).+Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Blackberry WebKit",manufacturer:"RIM"},{regex:"(Black[bB]erry)\\s?(\\d+)",family_replacement:"Blackberry",manufacturer:"RIM"},{regex:"(OmniWeb)/v(\\d+)\\.(\\d+)",other:!0},{regex:"(Blazer)/(\\d+)\\.(\\d+)",family_replacement:"Palm Blazer",manufacturer:"Palm"},{regex:"(Pre)/(\\d+)\\.(\\d+)",family_replacement:"Palm Pre",manufacturer:"Palm"},{regex:"(Links) \\((\\d+)\\.(\\d+)",other:!0},{regex:"(QtWeb) Internet Browser/(\\d+)\\.(\\d+)",other:!0},{regex:"(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))?",other:!0,tablet:!0},{regex:"(AppleWebKit)/(\\d+)\\.?(\\d+)?\\+ .* Version/\\d+\\.\\d+.\\d+ Safari/",family_replacement:"WebKit Nightly"},{regex:"(Version)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari/",family_replacement:"Safari"},{regex:"(Safari)/\\d+"},{regex:"(OLPC)/Update(\\d+)\\.(\\d+)",other:!0},{regex:"(OLPC)/Update()\\.(\\d+)",v1_replacement:"0",other:!0},{regex:"(SEMC\\-Browser)/(\\d+)\\.(\\d+)",other:!0},{regex:"(Teleca)",family_replacement:"Teleca Browser",other:!0},{regex:"(MSIE) (\\d+)\\.(\\d+)",family_replacement:"IE"}],os_parsers:[{regex:"(Android) (\\d+)\\.(\\d+)(?:[.\\-]([a-z0-9]+))?"},{regex:"(Android)\\-(\\d+)\\.(\\d+)(?:[.\\-]([a-z0-9]+))?"},{regex:"(Android) Donut",os_v2_replacement:"2",os_v1_replacement:"1"},{regex:"(Android) Eclair",os_v2_replacement:"1",os_v1_replacement:"2"},{regex:"(Android) Froyo",os_v2_replacement:"2",os_v1_replacement:"2"},{regex:"(Android) Gingerbread",os_v2_replacement:"3",os_v1_replacement:"2"},{regex:"(Android) Honeycomb",os_v1_replacement:"3"},{regex:"(Silk-Accelerated=[a-z]{4,5})",os_replacement:"Android"},{regex:"(Windows Phone 6\\.5)"},{regex:"(Windows (?:NT 5\\.2|NT 5\\.1))",os_replacement:"Windows XP"},{regex:"(XBLWP7)",os_replacement:"Windows Phone OS"},{regex:"(Windows NT 6\\.1)",os_replacement:"Windows 7"},{regex:"(Windows NT 6\\.0)",os_replacement:"Windows Vista"},{regex:"(Windows 98|Windows XP|Windows ME|Windows 95|Windows CE|Windows 7|Windows NT 4\\.0|Windows Vista|Windows 2000)"},{regex:"(Windows NT 6\\.2)",os_replacement:"Windows 8"},{regex:"(Windows Phone 8)",os_replacement:"Windows Phone 8"},{regex:"(Windows NT 5\\.0)",os_replacement:"Windows 2000"},{regex:"(Windows Phone OS) (\\d+)\\.(\\d+)"},{regex:"(Windows ?Mobile)",os_replacement:"Windows Mobile"},{regex:"(WinNT4.0)",os_replacement:"Windows NT 4.0"},{regex:"(Win98)",os_replacement:"Windows 98"},{regex:"(Tizen)/(\\d+)\\.(\\d+)",other:!0},{regex:"(Mac OS X) (\\d+)[_.](\\d+)(?:[_.](\\d+))?",manufacturer:"Apple"},{regex:"(?:PPC|Intel) (Mac OS X)",manufacturer:"Apple"},{regex:"(CPU OS|iPhone OS) (\\d+)_(\\d+)(?:_(\\d+))?",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(iPhone|iPad|iPod); Opera",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(iPad); Opera",tablet:!0,manufacturer:"Apple"},{regex:"(iPhone|iPad|iPod).*Mac OS X.*Version/(\\d+)\\.(\\d+)",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(CrOS) [a-z0-9_]+ (\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"Chrome OS"},{regex:"(Debian)-(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",other:!0},{regex:"(Linux Mint)(?:/(\\d+))?",other:!0},{regex:"(Mandriva)(?: Linux)?/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",other:!0},{regex:"(Symbian[Oo][Ss])/(\\d+)\\.(\\d+)",os_replacement:"Symbian OS"},{regex:"(Symbian/3).+NokiaBrowser/7\\.3",os_replacement:"Symbian^3 Anna"},{regex:"(Symbian/3).+NokiaBrowser/7\\.4",os_replacement:"Symbian^3 Belle"},{regex:"(Symbian/3)",os_replacement:"Symbian^3"},{regex:"(Series 60|SymbOS|S60)",os_replacement:"Symbian OS"},{regex:"(MeeGo)",other:!0},{regex:"Symbian [Oo][Ss]",os_replacement:"Symbian OS"},{regex:"(Black[Bb]erry)[0-9a-z]+/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"BlackBerry OS",manufacturer:"RIM"},{regex:"(Black[Bb]erry).+Version/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"BlackBerry OS",manufacturer:"RIM"},{regex:"(RIM Tablet OS) (\\d+)\\.(\\d+)\\.(\\d+)",os_replacement:"BlackBerry Tablet OS",tablet:!0,manufacturer:"RIM"},{regex:"(Play[Bb]ook)",os_replacement:"BlackBerry Tablet OS",tablet:!0,manufacturer:"RIM"},{regex:"(Black[Bb]erry)",os_replacement:"Blackberry OS",manufacturer:"RIM"},{regex:"(webOS|hpwOS)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"webOS"},{regex:"(SUSE|Fedora|Red Hat|PCLinuxOS)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(SUSE|Fedora|Red Hat|Puppy|PCLinuxOS|CentOS)/(\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(Ubuntu|Kindle|Bada|Lubuntu|BackTrack|Red Hat|Slackware)/(\\d+)\\.(\\d+)"},{regex:"(Windows|OpenBSD|FreeBSD|NetBSD|Ubuntu|Kubuntu|Android|Arch Linux|CentOS|WeTab|Slackware)"},{regex:"(Linux|BSD)",other:!0}],mobile_os_families:["Windows Phone 6.5","Windows CE","Symbian OS"],device_parsers:[{regex:"HTC ([A-Z][a-z0-9]+) Build",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC ([A-Z][a-z0-9 ]+) \\d+\\.\\d+\\.\\d+\\.\\d+",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC_Touch_([A-Za-z0-9]+)",device_replacement:"HTC Touch ($1)",manufacturer:"HTC"},{regex:"USCCHTC(\\d+)",device_replacement:"HTC $1 (US Cellular)",manufacturer:"HTC"},{regex:"Sprint APA(9292)",device_replacement:"HTC $1 (Sprint)",manufacturer:"HTC"},{regex:"HTC ([A-Za-z0-9]+ [A-Z])",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC-([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC_([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC ([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"(ADR[A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"(HTC)",manufacturer:"HTC"},{regex:"SonyEricsson([A-Za-z0-9]+)/",device_replacement:"Ericsson $1",other:!0,manufacturer:"Sony"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; WOWMobile (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\.[\\d]+; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\-update1\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\.[\\d]+; (.+) Build"},{regex:"NokiaN([0-9]+)",device_replacement:"Nokia N$1",manufacturer:"Nokia"},{regex:"Nokia([A-Za-z0-9\\v-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"NOKIA ([A-Za-z0-9\\-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"Nokia ([A-Za-z0-9\\-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"Lumia ([A-Za-z0-9\\-]+)",device_replacement:"Lumia $1",manufacturer:"Nokia"},{regex:"Symbian",device_replacement:"Nokia",manufacturer:"Nokia"},{regex:"(PlayBook).+RIM Tablet OS",device_replacement:"Blackberry Playbook",tablet:!0,manufacturer:"RIM"},{regex:"(Black[Bb]erry [0-9]+);",manufacturer:"RIM"},{regex:"Black[Bb]erry([0-9]+)",device_replacement:"BlackBerry $1",manufacturer:"RIM"},{regex:"(Pre)/(\\d+)\\.(\\d+)",device_replacement:"Palm Pre",manufacturer:"Palm"},{regex:"(Pixi)/(\\d+)\\.(\\d+)",device_replacement:"Palm Pixi",manufacturer:"Palm"},{regex:"(Touchpad)/(\\d+)\\.(\\d+)",device_replacement:"HP Touchpad",manufacturer:"HP"},{regex:"HPiPAQ([A-Za-z0-9]+)/(\\d+).(\\d+)",device_replacement:"HP iPAQ $1",manufacturer:"HP"},{regex:"Palm([A-Za-z0-9]+)",device_replacement:"Palm $1",manufacturer:"Palm"},{regex:"Treo([A-Za-z0-9]+)",device_replacement:"Palm Treo $1",manufacturer:"Palm"},{regex:"webOS.*(P160UNA)/(\\d+).(\\d+)",device_replacement:"HP Veer",manufacturer:"HP"},{regex:"(Kindle Fire)",manufacturer:"Amazon"},{regex:"(Kindle)",manufacturer:"Amazon"},{regex:"(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))?",device_replacement:"Kindle Fire",tablet:!0,manufacturer:"Amazon"},{regex:"(iPad) Simulator;",manufacturer:"Apple"},{regex:"(iPad);",manufacturer:"Apple"},{regex:"(iPod);",manufacturer:"Apple"},{regex:"(iPhone) Simulator;",manufacturer:"Apple"},{regex:"(iPhone);",manufacturer:"Apple"},{regex:"Nexus\\ ([A-Za-z0-9\\-]+)",device_replacement:"Nexus $1"},{regex:"acer_([A-Za-z0-9]+)_",device_replacement:"Acer $1",manufacturer:"Acer"},{regex:"acer_([A-Za-z0-9]+)_",device_replacement:"Acer $1",manufacturer:"Acer"},{regex:"Amoi\\-([A-Za-z0-9]+)",device_replacement:"Amoi $1",other:!0,manufacturer:"Amoi"},{regex:"AMOI\\-([A-Za-z0-9]+)",device_replacement:"Amoi $1",other:!0,manufacturer:"Amoi"},{regex:"Asus\\-([A-Za-z0-9]+)",device_replacement:"Asus $1",manufacturer:"Asus"},{regex:"ASUS\\-([A-Za-z0-9]+)",device_replacement:"Asus $1",manufacturer:"Asus"},{regex:"BIRD\\-([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"BIRD\\.([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"BIRD ([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"Dell ([A-Za-z0-9]+)",device_replacement:"Dell $1",manufacturer:"Dell"},{regex:"DoCoMo/2\\.0 ([A-Za-z0-9]+)",device_replacement:"DoCoMo $1",other:!0},{regex:"([A-Za-z0-9]+)\\_W\\;FOMA",device_replacement:"DoCoMo $1",other:!0},{regex:"([A-Za-z0-9]+)\\;FOMA",device_replacement:"DoCoMo $1",other:!0},{regex:"vodafone([A-Za-z0-9]+)",device_replacement:"Huawei Vodafone $1",other:!0},{regex:"i\\-mate ([A-Za-z0-9]+)",device_replacement:"i-mate $1",other:!0},{regex:"Kyocera\\-([A-Za-z0-9]+)",device_replacement:"Kyocera $1",other:!0},{regex:"KWC\\-([A-Za-z0-9]+)",device_replacement:"Kyocera $1",other:!0},{regex:"Lenovo\\-([A-Za-z0-9]+)",device_replacement:"Lenovo $1",manufacturer:"Lenovo"},{regex:"Lenovo\\_([A-Za-z0-9]+)",device_replacement:"Lenovo $1",manufacturer:"Levovo"},{regex:"LG/([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG-LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE-LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE VX([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG ([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE LG\\-AX([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG\\-([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE\\-([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"(KIN)\\.One (\\d+)\\.(\\d+)",device_replacement:"Microsoft $1"},{regex:"(KIN)\\.Two (\\d+)\\.(\\d+)",device_replacement:"Microsoft $1"},{regex:"(Motorola)\\-([A-Za-z0-9]+)",manufacturer:"Motorola"},{regex:"MOTO\\-([A-Za-z0-9]+)",device_replacement:"Motorola $1",manufacturer:"Motorola"},{regex:"MOT\\-([A-Za-z0-9]+)",device_replacement:"Motorola $1",manufacturer:"Motorola"},{regex:"Philips([A-Za-z0-9]+)",device_replacement:"Philips $1",manufacturer:"Philips"},{regex:"Philips ([A-Za-z0-9]+)",device_replacement:"Philips $1",manufacturer:"Philips"},{regex:"SAMSUNG-([A-Za-z0-9\\-]+)",device_replacement:"Samsung $1",manufacturer:"Samsung"},{regex:"SAMSUNG\\; ([A-Za-z0-9\\-]+)",device_replacement:"Samsung $1",manufacturer:"Samsung"},{regex:"Softbank/1\\.0/([A-Za-z0-9]+)",device_replacement:"Softbank $1",other:!0},{regex:"Softbank/2\\.0/([A-Za-z0-9]+)",device_replacement:"Softbank $1",other:!0},{regex:"(hiptop|avantgo|plucker|xiino|blazer|elaine|up.browser|up.link|mmp|smartphone|midp|wap|vodafone|o2|pocket|mobile|pda)",device_replacement:"Generic Smartphone"},{regex:"^(1207|3gso|4thp|501i|502i|503i|504i|505i|506i|6310|6590|770s|802s|a wa|acer|acs\\-|airn|alav|asus|attw|au\\-m|aur |aus |abac|acoo|aiko|alco|alca|amoi|anex|anny|anyw|aptu|arch|argo|bell|bird|bw\\-n|bw\\-u|beck|benq|bilb|blac|c55/|cdm\\-|chtm|capi|comp|cond|craw|dall|dbte|dc\\-s|dica|ds\\-d|ds12|dait|devi|dmob|doco|dopo|el49|erk0|esl8|ez40|ez60|ez70|ezos|ezze|elai|emul|eric|ezwa|fake|fly\\-|fly\\_|g\\-mo|g1 u|g560|gf\\-5|grun|gene|go.w|good|grad|hcit|hd\\-m|hd\\-p|hd\\-t|hei\\-|hp i|hpip|hs\\-c|htc |htc\\-|htca|htcg)",device_replacement:"Generic Feature Phone"},{regex:"^(htcp|htcs|htct|htc\\_|haie|hita|huaw|hutc|i\\-20|i\\-go|i\\-ma|i230|iac|iac\\-|iac/|ig01|im1k|inno|iris|jata|java|kddi|kgt|kgt/|kpt |kwc\\-|klon|lexi|lg g|lg\\-a|lg\\-b|lg\\-c|lg\\-d|lg\\-f|lg\\-g|lg\\-k|lg\\-l|lg\\-m|lg\\-o|lg\\-p|lg\\-s|lg\\-t|lg\\-u|lg\\-w|lg/k|lg/l|lg/u|lg50|lg54|lge\\-|lge/|lynx|leno|m1\\-w|m3ga|m50/|maui|mc01|mc21|mcca|medi|meri|mio8|mioa|mo01|mo02|mode|modo|mot |mot\\-|mt50|mtp1|mtv |mate|maxo|merc|mits|mobi|motv|mozz|n100|n101|n102|n202|n203|n300|n302|n500|n502|n505|n700|n701|n710|nec\\-|nem\\-|newg|neon)",device_replacement:"Generic Feature Phone"},{regex:"^(netf|noki|nzph|o2 x|o2\\-x|opwv|owg1|opti|oran|ot\\-s|p800|pand|pg\\-1|pg\\-2|pg\\-3|pg\\-6|pg\\-8|pg\\-c|pg13|phil|pn\\-2|pt\\-g|palm|pana|pire|pock|pose|psio|qa\\-a|qc\\-2|qc\\-3|qc\\-5|qc\\-7|qc07|qc12|qc21|qc32|qc60|qci\\-|qwap|qtek|r380|r600|raks|rim9|rove|s55/|sage|sams|sc01|sch\\-|scp\\-|sdk/|se47|sec\\-|sec0|sec1|semc|sgh\\-|shar|sie\\-|sk\\-0|sl45|slid|smb3|smt5|sp01|sph\\-|spv |spv\\-|sy01|samm|sany|sava|scoo|send|siem|smar|smit|soft|sony|t\\-mo|t218|t250|t600|t610|t618|tcl\\-|tdg\\-|telm|tim\\-|ts70|tsm\\-|tsm3|tsm5|tx\\-9|tagt)",device_replacement:"Generic Feature Phone"},{regex:"^(talk|teli|topl|tosh|up.b|upg1|utst|v400|v750|veri|vk\\-v|vk40|vk50|vk52|vk53|vm40|vx98|virg|vite|voda|vulc|w3c |w3c\\-|wapj|wapp|wapu|wapm|wig |wapi|wapr|wapv|wapy|wapa|waps|wapt|winc|winw|wonu|x700|xda2|xdag|yas\\-|your|zte\\-|zeto|aste|audi|avan|blaz|brew|brvw|bumb|ccwa|cell|cldc|cmd\\-|dang|eml2|fetc|hipt|http|ibro|idea|ikom|ipaq|jbro|jemu|jigs|keji|kyoc|kyok|libw|m\\-cr|midp|mmef|moto|mwbp|mywa|newt|nok6|o2im|pant|pdxg|play|pluc|port|prox|rozo|sama|seri|smal|symb|treo|upsi|vx52|vx53|vx60|vx61|vx70|vx80|vx81|vx83|vx85|wap\\-|webc|whit|wmlb|xda\\-|xda\\_)",device_replacement:"Generic Feature Phone"},{regex:"(bot|borg|google(^tv)|yahoo|slurp|msnbot|msrbot|openbot|archiver|netresearch|lycos|scooter|altavista|teoma|gigabot|baiduspider|blitzbot|oegp|charlotte|furlbot|http%20client|polybot|htdig|ichiro|mogimogi|larbin|pompos|scrubby|searchsight|seekbot|semanticdiscovery|silk|snappy|speedy|spider|voila|vortex|voyager|zao|zeal|fast\\-webcrawler|converacrawler|dataparksearch|findlinks)",device_replacement:"Spider"}],mobile_browser_families:["Firefox Mobile","Opera Mobile","Opera Mini","Mobile Safari","webOS","IE Mobile","Playstation Portable","Nokia","Blackberry","Palm","Silk","Android","Maemo","Obigo","Netfront","AvantGo","Teleca","SEMC-Browser","Bolt","Iris","UP.Browser","Symphony","Minimo","Bunjaloo","Jasmine","Dolfin","Polaris","BREW","Chrome Mobile","Chrome Mobile iOS","UC Browser","Tizen Browser"]};b.parsers=["device_parsers","browser_parsers","os_parsers","mobile_os_families","mobile_browser_families"],b.types=["browser","os","device"],b.regexes=c||function(){var a={};return b.parsers.map(function(b){a[b]=[]}),a}(),b.families=function(){var a={};return b.types.map(function(b){a[b]=[]}),a}();var d=Array.prototype,e=(Object.prototype,Function.prototype,d.forEach);d.indexOf;var f=function(a,b){for(var c={},d=0;d<b.length&&!(c=b[d](a));d++);return c},g=function(a,b){h(a,function(a){h(b,function(b){delete a[b]})})},h=forEach=function(a,b,c){if(null!=a)if(e&&a.forEach===e)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,f=a.length;f>d;d++)b.call(c,a[d],d,a);else for(var g in a)_.has(a,g)&&b.call(c,a[g],g,a)},i=function(a){return!(!a||"undefined"==typeof a||null==a)},j=function(a){var b="";return a=a||{},i(a)&&i(a.major)&&(b+=a.major,i(a.minor)&&(b+="."+a.minor,i(a.patch)&&(b+="."+a.patch))),b},k=function(a){a=a||{};var b=j(a);return b&&(b=" "+b),a&&i(a.family)?a.family+b:""};return b.parse=function(c){var d=function(a){return b.regexes[a+"_parsers"].map(function(b){function c(a){var c=a.match(d);if(!c)return null;var g={};return g.family=(e?e.replace("$1",c[1]):c[1])||"other",g.major=parseInt(f?f:c[2])||null,g.minor=c[3]?parseInt(c[3]):null,g.patch=c[4]?parseInt(c[4]):null,g.tablet=b.tablet,g.man=b.manufacturer||null,g}var d=new RegExp(b.regex),e=b[("browser"===a?"family":a)+"_replacement"],f=b.major_version_replacement;return c})},e=function(){},h=d("browser"),l=d("os"),m=d("device");a=new e,a.source=c,a.browser=f(c,h),i(a.browser)?(a.browser.name=k(a.browser),a.browser.version=j(a.browser)):a.browser={},a.os=f(c,l),i(a.os)?(a.os.name=k(a.os),a.os.version=j(a.os)):a.os={},a.browser.isMacQQBrowser=!1,"Mac OS X"==a.os.family&&a.source.match(/QQBrowser/g)&&(a.browser.isMacQQBrowser=!0),a.device=f(c,m),i(a.device)?(a.device.name=k(a.device),a.device.version=j(a.device)):a.device={tablet:!1,family:"Other"};var n={};return b.regexes.mobile_browser_families.map(function(a){n[a]=!0}),b.regexes.mobile_os_families.map(function(a){n[a]=!0}),a.device.type="Spider"===a.browser.family?"Spider":a.browser.tablet||a.os.tablet||a.device.tablet?"Tablet":n.hasOwnProperty(a.browser.family)?"Mobile":"Desktop",a.device.manufacturer=a.browser.man||a.os.man||a.device.man||null,g([a.browser,a.os,a.device],["tablet","man"]),a
},b}();"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=c),exports.detect=c):b.detect=c,"function"==typeof define&&define.amd&&define(function(){return c})}(window),$(function($){$.fn.links123_apptrigers=function(a){this.on("click",a,function(){var a=$(this).data("href");$(this).data("links_app")||$(this).data("links_app",new App(a));var b=$(this).data("links_app");return b.show(),!1})},$("#J_Apps").links123_apptrigers(".J_app_trig"),$("#J_Apps").on("click",".J_app_link",function(){window.open($(this).data("href"))});var apps=[],App=function(a){this.appId=a,this.$elem=$(a),this.$elem.addClass("links123-app-frame"),this.initStyle(),this.bindEvent(),apps.push(this),callbacks[a]&&callbacks[a](this)};App.prototype={show:function(){var a=this;this.$elem.fadeIn(function(){"#J_box_translate"==a.appId&&setTimeout(function(){$(".J_translate_source").select()},0)})},close:function(){this.$elem.fadeOut()},initStyle:function(){this.w=this.$elem.outerWidth();var a=this.$elem.outerHeight(),b=parseInt(a)<parseInt($(window).height())?{"margin-left":-this.w/2,"margin-top":-a/2+parseInt($("#J_header").outerHeight())}:{"margin-left":-this.w/2,"margin-top":0,top:parseInt($("#header").outerHeight())+10};this.$elem.css(b),$(window).height()},bindEvent:function(){var a=this;0==a.$elem.children(".links123-close-wrap").length&&a.$elem.prepend('<div class="links123-close-wrap"><a href="#">x</a></div>'),a.$closeBtn=a.$elem.children(".links123-close-wrap").children("a"),a.$closeBtn.bind("click",function(){a.close()}),a.$elem.bind("mousedown keydown",function(){$.map(apps,function(a){a.$elem.css("z-index","9000")}),a.$elem.css("z-index","10000")}),$(document).bind("keyup",function(b){27===b.keyCode&&a.close()})},clone:function(){var a=this.$elem.clone(),b=parseInt(this.$elem.offset().left)-parseInt(this.$elem[0].style.marginLeft)+20,c=parseInt(this.$elem.offset().top)-parseInt(this.$elem[0].style.marginTop)+20;return a.attr("id",Math.random().toString().substring(3)),a.css({left:b,top:c}),$("body").append(a),new App("#"+a.attr("id"))},sync:function(){$.post("",this.data,function(){},"json")},enableDrag:function(a){var b=this,c=this.$elem.find(a),d=function(c){var d=parseInt(c.clientX),f=parseInt(c.clientY),g=parseInt(b.$elem[0].style.marginLeft),h=parseInt(b.$elem[0].style.marginTop),i=d-b._x-g,j=f-b._y-h,k=$("#J_header").outerHeight();".music_icon"==a&&(b.$elem.css("bottom","auto"),i-=$(window).scrollLeft(),j-=$(window).scrollTop()),k>=j+h&&(j=k-h),i>=$(window).width()+g&&(i=$(window)-g/2),b.$elem.css({left:i,top:j}),$(document).bind("mouseup",e)},e=function(){$(document).unbind("mousemove",d),b.$elem.removeClass("K_box_music_move")};c.css("cursor","move"),c.bind("mousedown",function(c){b._x=parseInt(c.clientX)-parseInt(b.$elem.offset().left),b._y=parseInt(c.clientY)-parseInt(b.$elem.offset().top),".music_icon"==a&&b.$elem.addClass("K_box_music_move"),$(document).bind("mousemove",d),$(document).bind("mouseup",e)}),c.bind("mouseup",e)}};var callbacks={"#J_box_note":function(a){function b(){$.cookies.set("links123_note_bg",f)}function c(){setTimeout(function(){e.focus()},100),e.css("background",$.cookies.get("links123_note_bg"))}var d=a.$elem,e=d.find("textarea"),f=null,g=a;g.enableDrag(".box_note_header"),c(),d.on("click","[class^=color_]",function(){f=""+$(this).css("background-color"),e.css("background",f),b()}),d.on("click",".btn_add",function(){var a=g.clone();callbacks["#J_box_note"](a),a.$elem.find("textarea").val(""),a.$elem.find("textarea").css("background","#fff")}),d.on("click",".btn_clear",function(){e.val("").select(),b()})},"#J_box_mail":function(){var a={MailConfig:[{action:"https://ssl.mail.163.com/entry/coremail/fcg/ntesdoor2?df=mail163_letter&from=web&funcid=loginone&iframe=1&language=-1&net=t&passtype=1&product=mail163&race=382_92_196_gz&style=-1",name:"@163.com",params:{username:"#{u}",password:"#{p}",savelogin:"0",url2:"http://mail.163.com/errorpage/err_163.htm"}},{action:"https://ssl.mail.126.com/entry/cgi/ntesdoor?hid=10010102&funcid=loginone&df=mail126_letter&language=-1&passtype=1&verifycookie=-1&iframe=1&from=web&net=failed&product=mail126&style=-1&race=-2_-2_-2_db",name:"@126.com",params:{domain:"126.com",username:"#{u}@126.com",password:"#{p}",savelogin:"0",url2:"http://mail.126.com/errorpage/err_126.htm"}},{action:"https://login.sina.com.cn/sso/login.php",name:"@sina.com",params:{username:"#{u}@sina.com",password:"#{p}",entry:"freemail",gateway:"0",encoding:"UTF-8",url:"http://mail.sina.com.cn/",returntype:"META"}},{action:"https://edit.bjs.yahoo.com/config/login",name:"@yahoo.com.cn",params:{login:"#{u}@yahoo.com.cn",passwd:"#{p}",domainss:"yahoo",".intl":"cn",".src":"ym"}},{action:"https://login.sina.com.cn/sso/login.php",name:"@sina.cn",params:{username:"#{u}@sina.cn",password:"#{p}",entry:"freemail",gateway:"0",encoding:"UTF-8",url:"http://mail.sina.com.cn/",returntype:"META"}},{action:"http://passport.sohu.com/login.jsp",name:"@sohu.com",params:{loginid:"#{u}@sohu.com",passwd:"#{p}",fl:"1",vr:"1|1",appid:"1113",ru:"http://login.mail.sohu.com/servlet/LoginServlet",ct:"1173080990",sg:"5082635c77272088ae7241ccdf7cf062"}},{action:"https://mail.yeah.net/entry/cgi/ntesdoor?df=webmailyeah&from=web&funcid=loginone&iframe=1&language=-1&passtype=1&verifycookie=1&product=mailyeah&style=-1&",name:"@yeah.net",params:{domain:"yeah.net",username:"#{u}@yeah.net",user:"#{u}",password:"#{p}",savelogin:"0",url2:"http://mail.yeah.net/errorpage/err_yeah.htm"}},{action:"https://mail.10086.cn/Login/Login.ashx?_fv=5&cguid=1144153566504&_=3900d6b56d0742590535b3bb5ddee9f923b4326c ",name:"@139.com",params:{UserName:"#{u}",Password:"#{p}"}},{action:"http://passport.21cn.com/maillogin.jsp",name:"@21cn.com",params:{UserName:"#{u}@21cn.com",passwd:"#{p}",domainname:"21cn.com"}},{action:"http://mail.qq.com",type:"link"},{action:"http://gmail.google.com",type:"link"},{action:"http://www.hotmail.com",type:"link"},{action:"https://passport.alipay.com/login/login.htm?fromSite=9&return_url=http%3A%2F%2Fmail.aliyun.com%2Funiquelogin.htm",type:"link"},{action:"https://login.yahoo.com/config/login_verify2?&.src=ym&.intl=us",type:"link"},{action:"http://mail.links123.cn",type:"link"}]},b={mailCache:[],sendMail:function(){var b=$.trim($("#mailUserName").val()),c=$.trim($("#mailPassWord").val());if(""==b)return alert("用户名不能为空！"),!1;if(""==c)return alert("密码不能为空！"),!1;var d=$("#J_mailForm"),e=$("#mail_list").attr("selectindex"),f=a.MailConfig[e];if(0==f.val)return alert("您没有选择邮箱！"),void 0;d.attr("action",f.action);var g="";for(param in f.params)g='<input type="hidden" class="J_mail_form_hidden" name="'+param+'" value="'+f.params[param].replace("#{u}",b).replace("#{p}",c)+'" />',d.append(g);d.submit(),$(".J_mail_form_hidden").remove(),$("#mailPassWord").value=""},change:function(b){var c=a.MailConfig[b];if("link"==c.type){$("#mailSelect").text(a.MailConfig[0].name),$("#mail_list").attr("selectindex",0);var d=$("#J_mailForm");d.attr("action",c.action);var e="";for(param in c.params)e='<input type="hidden" class="J_mail_form_hidden" name="'+param+'" value="'+c.params[param].replace("#{u}",mailUserName).replace("#{p}",mailPassWord)+'" />',d.append(e);d.append(e),d.submit(),$(".J_mail_form_hidden").remove(),$("#mailPassWord").value=""}else $("#mailSelect").text(a.MailConfig[b].name),$("#mail_list").attr("selectindex",b)}};$("#J_box_mail").mouseover(function(){return $("#mailUserName").select(),!1}),$("#mailPassWord").mouseover(function(){return $("#mailPassWord").select(),!1}),$("#J_mail_submit").click(function(){return b.sendMail(),!1}),$("#mailPassWord").keypress(function(a){return 13==a.keyCode?(b.sendMail(),!1):void 0}),$(".mail-list li").click(function(){b.change($(this).attr("dn")),$("#mailUserName").select()}),$(".mail-list li").mouseover(function(){$(this).addClass("option-hover")}),$(".mail-list li").mouseout(function(){$(this).removeClass("option-hover")})},"#J_box_calendar":function(){$("#J_calendar_iframe").attr("src","http://baidu365.duapp.com/wnl.html"),$("#J_box_calendar_list a").click(function(){return $("#J_calendar_iframe").attr("src",$(this).attr("data-url")),!1})},"#J_box_calc":function(){$("#J_calc_iframe").attr("src","http://qiqiapp3.duapp.com/yuyinjisuanqi/"),$("#J_box_calc_list a").click(function(){return $("#J_calc_iframe").attr("src",$(this).attr("data-url")),!1})},"#J_box_translate":function(){var translateLang=0,lns={"group-1":[["sq","阿尔巴尼亚语"],["ar","阿拉伯语"],["az","阿塞拜疆语"],["ga","爱尔兰语"],["et","爱沙尼亚语"],["eu","巴斯克语"],["be","白俄罗斯语"],["bg","保加利亚语"],["is","冰岛语"],["pl","波兰语"]],"group-2":[["bs","波斯尼亚语"],["fa","波斯语"],["af","布尔语(南非荷兰语)"],["da","丹麦语"],["de","德语"],["ru","俄语"],["fr","法语"],["tl","菲律宾语"],["fi","芬兰语"],["km","高棉语"],["ka","格鲁吉亚语"]],"group-3":[["gu","古吉拉特语"],["ht","海地克里奥尔语"],["ko","韩语"],["nl","荷兰语"],["gl","加利西亚语"],["ca","加泰罗尼亚语"],["cs","捷克语"],["kn","卡纳达语"],["hr","克罗地亚语"],["la","拉丁语"],["lv","拉脱维亚语"]],"group-4":[["lo","老挝语"],["lt","立陶宛语"],["ro","罗马尼亚语"],["mt","马耳他语"],["mr","马拉地语"],["ms","马来语"],["mk","马其顿语"],["bn","孟加拉语"],["hmn","苗语"],["no","挪威语"],["pt","葡萄牙语"]],"group-5":[["ja","日语"],["sv","瑞典语"],["sr","塞尔维亚语"],["eo","世界语"],["sk","斯洛伐克语"],["sl","斯洛文尼亚语"],["sw","斯瓦希里语"],["ceb","宿务语"],["te","泰卢固语"],["ta","泰米尔语"],["th","泰语"]],"group-6":[["tr","土耳其语"],["cy","威尔士语"],["ur","乌尔都语"],["uk","乌克兰语"],["iw","希伯来语"],["el","希腊语"],["es","西班牙语"],["hu","匈牙利语"],["hy","亚美尼亚语"],["it","意大利语"],["yi","意第绪语"]],"group-7":[["hi","印地语"],["id","印尼语"],["jw","印尼爪哇语"],["vi","越南语"],["zh-TW","中文(繁体)"],["zh-CN","中文(简体)"],["en","英语"]]},totalHTML="",groupHTML,curClass;$.each(lns,function(a,b){groupHTML="group-1"==a?'<div class="goog-menuitem goog-option goog-option-selected goog-menuitem-highlight J_lang_auto"aria-selected="true" style="-moz-user-select: none;" data-id="auto" id=":2"><div class="goog-menuitem-content"><div class="goog-menuitem-checkbox"></div>检测语言</div></div><div class="goog-menuseparator" role="separator" style="-moz-user-select: none;" id=":3"></div>':"",$.each(b,function(a,b){curClass="en"==b[0]?"goog-menuitem-emphasize-highlight":"",("zh-CN"==b[0]||"en"==b[0])&&(b[1]="<b>"+b[1]+"</b>"),groupHTML+='<div class="goog-menuitem goog-option '+curClass+'" style="-moz-user-select: none;" data-id="'+b[0]+'"><div class="goog-menuitem-content"><div class="goog-menuitem-checkbox"></div>'+b[1]+"</div></div>"}),groupHTML='<td><div id="goog-menuitem-'+a+'" class="goog-menuitem-group" style="width: 100%;">'+groupHTML+"</div></td>",totalHTML+=groupHTML}),$("#gt-sl-gms-menu").find("tr").html(totalHTML),$(".J_translate_clear").click(function(){return $("#gt-res-dict").html(""),$("#result_box").html(""),$(".J_translate_source").val(""),$(".J_translate_source").select(),!1}),$("#gt-sl-gms").click(function(){return translateLang=0,$(this).hasClass("goog-flat-menu-button-focused")?($(this).removeClass("goog-flat-menu-button-focused"),$("#gt-sl-gms-menu").hide()):($("#gt-tl-gms").removeClass("goog-flat-menu-button-focused"),$(this).addClass("goog-flat-menu-button-focused"),$(".J_lang_auto").show(),$("#gt-sl-gms-menu").show()),!1}),$("#gt-tl-gms").click(function(){return translateLang=1,$(this).hasClass("goog-flat-menu-button-focused")?($(this).removeClass("goog-flat-menu-button-focused"),$("#gt-sl-gms-menu").hide()):($("#gt-sl-gms").removeClass("goog-flat-menu-button-focused"),$(this).addClass("goog-flat-menu-button-focused"),$(".J_lang_auto").hide(),$("#gt-sl-gms-menu").show()),!1}),$(".goog-menuitem").mouseover(function(){$(".goog-menuitem").removeClass("goog-menuitem-highlight"),$(this).addClass("goog-menuitem-highlight")}),$(".goog-menuitem").click(function(){var a=$.trim($(this).text()),b=$(this).attr("data-id");return 1==translateLang?($("#J_lang_tgt").text(a),$("#gt-tl-gms").removeClass("goog-flat-menu-button-focused"),$("#gt-tl").val(b)):($("#J_lang_src").text(a),$("#gt-sl-gms").removeClass("goog-flat-menu-button-focused"),$("#gt-sl").val(b)),$("#gt-sl-gms-menu").hide(),$("#gt-submit").trigger("click"),!1}),$("#gt-swap").click(function(){var a=$.trim($("#J_lang_src").text()),b=$.trim($("#J_lang_tgt").text()),c=$("#gt-sl").val(),d=$("#gt-tl").val();return $("#J_lang_tgt").text(a),$("#gt-tl").val(c),$("#J_lang_src").text(b),$("#gt-sl").val(d),$("#gt-submit").trigger("click"),!1}),$("#gt-submit").click(function(){var sl=$("#gt-sl").val(),tl=$("#gt-tl").val(),q=$(".J_translate_source").val();$("#gt-res-dict").html('<tr><td colspan="4"><div class="gt-baf-cell gt-baf-pos">翻译中...</div></td></tr>'),$("#result_box").html(""),$.ajax({type:"POST",url:APP+"Index/google_translate",data:{sl:sl,tl:tl,q:q},cache:!1,dataType:"json",success:function(data){var dictArr=eval(data.data);if(dictArr){var dictStr="";dictStr+='<table class="gt-baf-table"><tbody>';var dictSubArr="",dictType=0;if("undefined"!=typeof dictArr[1]?dictSubArr=dictArr[1]:"undefined"!=typeof dictArr[0]&&(dictSubArr=dictArr[0],dictType=1),dictSubArr){if(dictType){dictStr+='<span lang="zh-CN" id="result_box">';for(var i=0;i<dictSubArr.length;i++){var bafArr=dictSubArr[i];dictStr+="<span>"+bafArr[0].replace("\n","</br>")+"</span>"}dictStr+="</span>"}else for(var i=0;i<dictSubArr.length;i++){var bafArr=dictSubArr[i];if(dictStr+='<tr><td colspan="4"><div class="gt-baf-cell gt-baf-pos">'+bafArr[0]+"</div></td></tr>",bafArr[2]instanceof Array)for(var j=0;j<bafArr[2].length;j++){dictStr+="<tr>";var wordArr=bafArr[2][j];dictStr+="<td>";var cts_width=24;wordArr[3]<.01?cts_width=8:wordArr[3]<.1&&(cts_width=16),dictStr+='<div class="gt-baf-cell gt-baf-marker-container"><div class="gt-baf-cts" style="width:'+cts_width+'px;"></div></div>',dictStr+="</td>",dictStr+='<td><div class="gt-baf-cell gt-baf-bar"></div></td>',dictStr+="<td>",dictStr+='<div class="gt-baf-cell gt-baf-word-clickable" style="text-align: left; direction: ltr;">'+wordArr[0]+"</div>",dictStr+="</td>",dictStr+='<td style="width: 100%;">',dictStr+='<div class="gt-baf-cell gt-baf-translations" style="direction: ltr;">';for(var k=0;k<wordArr[1].length;k++)dictStr+='<span class="gt-baf-back">'+wordArr[1][k],k!=wordArr[1].length-1&&(dictStr+=", "),dictStr+="</span>";dictStr+="</div>",dictStr+="</td>",dictStr+="</tr>"}}dictStr+="</tbody></table>",$("#gt-res-dict").html(dictStr)}else $("#gt-res-dict").html("");dictType||$("#result_box").html(dictArr[0][0][0])}else $("#result_box").html('<span style="font-size:14px; color: red;">亲，未找到你所查询的结果，再试下吧!</span>')},error:function(){}})})},"#J_box_weather":function(){if($.browser.safari&&null==navigator.userAgent.toLowerCase().match(/chrome/)){var a='<iframe frameborder="0" scrolling="no" src="/Home/weather/index_new.html" style="z-index: 99999; width: 380px; height: 220px; border: 0px;"></iframe>';$("#J_box_weather").find(".K_weather_box").remove().end().append(a)}},"#J_box_music":function(a){var b=detect.parse(navigator.userAgent);b.browser.isMacQQBrowser&&(a.$elem.find(".douban-source").attr("data-href","/Index/dbfm.html"),a.$elem.find(".qq-source").attr("data-href","http://soso.music.qq.com/ipad/player.html").attr("data-height","430")),a.enableDrag(".music_icon"),a.$closeBtn.unbind("click"),a.$closeBtn.bind("click",function(){$(this).hasClass("closed")?a.show():(a.$elem.css({bottom:"10px",top:"auto"}),a.close())}),a.close=function(){var b=parseInt(a.$elem.outerWidth()),c=parseInt(a.$elem.css("margin-left"));a.$elem.css({position:"fixed",left:0-b-c+5+"px"}),a.$elem.find(".music-close-wrap").hide(),a.$closeBtn.addClass("closed")},a.$elem.find(".music-close-wrap a").on("click",function(){a.$elem.fadeOut(function(){a.$elem.css({bottom:"10px",top:"auto"})}),$("#J_iframe").find("iframe").removeAttr("src")});var c=function(){var b=parseInt(a.$elem[0].style.marginLeft);"10px"==a.$elem.css("bottom")&&a.$elem.css({position:"fixed",left:0-b-3+"px"})};a.show=function(){a.$elem.find(".music-close-wrap").show(),c(),a.$elem.is(":hidden")&&(a.$elem.show(),d.children(":first-child").children("a").click()),a.$closeBtn.removeClass("closed")};var d=$("#J_with_submenu").find(".submenu"),e=$("#J_with_submenu").children("a").children(".J_root_menu");d.on("click","a",function(){$(this).parent().siblings().removeClass("hide last"),$(this).parent().addClass("hide").removeClass("last"),e.html($(this).html());var a=d.children("[class!=hide]");$(a[a.length-1]).addClass("last"),g($(this))});var f=function(a){$("#J_box_music").css({"margin-left":"-"+a.data("width")/2+"px","margin-top":"-"+a.data("height")/2+"px"}),$("#J_music_iframe_wrap").css({width:a.data("width"),height:a.data("height")})},g=function(a){a.hasClass("qq-source")&&("Firefox"==b.browser.family||"IE"==b.browser.family||navigator.userAgent.search("OPR"))?$("#K_qq_music_browser_tip").show():$("#K_qq_music_browser_tip").hide();var d='<iframe scrolling="no" height="'+a.data("height")+'" width="'+a.data("width")+'" frameborder="0" style="overflow:hidden" allowtransparency="true" src="'+a.data("href")+'"></iframe>';f(a),$("#J_iframe").html(d),c()};d.children(":first-child").children("a").click(),a.close(),a.$elem.fadeIn()}}}(jQuery));