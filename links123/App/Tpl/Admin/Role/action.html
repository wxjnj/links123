<tagLib name="html" />
<include file="Public:header" />

<script language="JavaScript">
<!--
	function saveAccess(){
		ThinkAjax.sendForm('form1','__URL__/setAction/');
	}
//-->
</script>

<div id="main" class="main" >
	<div class="content">
		<div class="title"> 操作授权 [ <a href="__URL__">返 回</a> ] </div>
		<div id="result" class="result none"></div>
		<import  file="Js.Form.MultiSelect" />
		<form method=post id="form1">
			<table class="select" style="width:265px;margin:20px auto;">
				<tr><td height="3" colspan="3" class="topTd" ></td></tr>
				<tr><th align="center" width="255">
					<a href="__URL__/app/groupId/{$Think.get.groupId}">应用授权</a> | <a href="__URL__/module/groupId/{$Think.get.groupId}">模块授权</a> | 操作授权
				</th></tr>
				<tr><td class="tRight">
					当前组：<html:select name="groupId" style="medium" change="location.href = '?groupId='+this.options[this.selectedIndex].value;" first="选择组" options="groupList" selected="selectGroupId" />
				</td></tr>
				<tr><td class="tRight">
					当前应用：<html:select name="appId"  style="medium" change="location.href = '?appId='+this.options[this.selectedIndex].value;" first="选择应用" options="appList" selected="selectAppId" />
				</td></tr>
				<tr><td class="tRight">
					当前模块：<html:select name="moduleId"  style="medium" change="location.href = '?appId={$Think.get.appId}&moduleId='+this.options[this.selectedIndex].value;" first="选择模块" options="moduleList" selected="selectModuleId" />
				</td></tr>
				<tr><td>
					<html:select id="groupActionId" name="groupActionId[]" options="actionList" selected="groupActionList"  multiple="true" style="multiSelect" size="15" />
				</td></tr>
				<tr>
					<td class="row tCenter">
						<input type="button" onclick="allSelect()" value="全选" class="submit" />&nbsp;
						<input type="button" onclick="InverSelect()" value="反选" class="submit" />&nbsp;
						<input type="button" onclick="allUnSelect()" value="全否" class="submit" />&nbsp;
						<input type="button" onclick="saveAccess()" value="保存" class="submit" />&nbsp;
						<input type="hidden" name="groupId" VALUE="{$Think.get.id}" />
						<input type="hidden" name="module" value="Node" />
						<input type="hidden" name="ajax" VALUE="1" />
					</td>
				</tr>
				<tr><td height="3" class="bottomTd"></td></tr>
			</table>
		</form>
	</div>
</div>
